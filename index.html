<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¹Ø·Ø±Ùƒ ÙŠØ´Ø¨Ù‡Ùƒ PRO - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ù…Ø¹ ØµÙˆØ±Ø©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root { --gold: #d4af37; --dark: #050505; --card: #121212; --input: #000; }
    body { font-family: 'Cairo', sans-serif; background: var(--dark); color: #eee; padding: 15px; margin: 0; padding-bottom: 120px; }
    h2 { color: var(--gold); text-align: center; font-size: 22px; margin-bottom: 20px; border-bottom: 2px solid var(--gold); padding-bottom: 10px; }
    .section-title { color: var(--gold); font-size: 16px; margin: 20px 0 10px 0; display: flex; align-items: center; gap: 8px; border-right: 3px solid var(--gold); padding-right: 10px; font-weight: bold; }
    .card { background: var(--card); border-radius: 15px; padding: 15px; margin-bottom: 15px; border: 1px solid #222; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
    
    select, input:not([type="file"]), textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #333; background: var(--input); color: #fff; margin: 5px 0; box-sizing: border-box; font-size: 14px; transition: 0.3s; }
    select:focus, input:not([type="file"]):focus, textarea:focus { border-color: var(--gold); outline: none; box-shadow: 0 0 5px var(--gold); }
    
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .price-tag { position: fixed; bottom: 0; left: 0; right: 0; background: var(--gold); color: #000; padding: 15px; text-align: center; font-weight: bold; font-size: 1.3rem; z-index: 1000; box-shadow: 0 -5px 15px rgba(0,0,0,0.3); border-radius: 20px 20px 0 0; }
    .btn-wa { background: #25d366; color: #fff; border: none; padding: 18px; border-radius: 12px; width: 100%; font-weight: bold; font-size: 18px; cursor: pointer; margin-top: 10px; transition: 0.3s; }
    .btn-wa:active { transform: scale(0.95); }
    
    label { font-size: 13px; color: #aaa; margin-top: 10px; display: block; margin-bottom: 2px; }
    .auto-name-box { background: rgba(212, 175, 55, 0.1); border: 1px dashed var(--gold); padding: 15px; text-align: center; color: var(--gold); font-weight: bold; font-size: 20px; border-radius: 10px; margin-top: 5px; }

    /* For file input */
    .file-input-wrapper { position: relative; overflow: hidden; display: block; background: var(--input); color: #fff; padding: 12px; border-radius: 10px; border: 1px solid #333; cursor: pointer; text-align: center; margin: 5px 0; }
    .file-input-wrapper input[type="file"] { position: absolute; left: 0; top: 0; opacity: 0; cursor: pointer; }
    .file-input-wrapper span { display: block; }
    .file-preview { margin-top: 10px; max-width: 100%; height: auto; border-radius: 10px; border: 1px solid #333; display: none; }
    .loading-spinner { border: 4px solid rgba(255, 255, 255, 0.3); border-top: 4px solid var(--gold); border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; margin: 10px auto; display: none; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
</style>
</head>
<body>

<h2>ğŸ·ï¸ ØµÙ…Ù… Ø¨ØµÙ…ØªÙƒ Ø§Ù„Ø¹Ø·Ø±ÙŠØ© PRO</h2>

<div class="card">
    <div class="section-title">ğŸº Ø³Ø¹Ø© Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø© ÙˆØ§Ù„ØªØ±ÙƒÙŠØ²</div>
    <label>Ø§Ø®ØªØ± Ø­Ø¬Ù… Ø§Ù„Ø²Ø¬Ø§Ø¬Ø©</label>
    <select id="size" onchange="updateTotal()">
        <option value="10" data-p="500">10 ML (Ø¹ÙŠÙ†Ø© ØªØ¬Ø±Ø¨Ø©) - 500 Ø¯Ø¬</option>
        <option value="30" data-p="1200">30 ML - 1200 Ø¯Ø¬</option>
        <option value="50" data-p="2000" selected>50 ML - 2000 Ø¯Ø¬</option>
        <option value="75" data-p="2800">75 ML - 2800 Ø¯Ø¬</option>
        <option value="100" data-p="3500">100 ML - 3500 Ø¯Ø¬</option>
    </select>
    
    <div class="row">
        <div>
            <label>ğŸ’§ Ø§Ù„ØªØ±ÙƒÙŠØ²</label>
            <select id="concentration" onchange="updateTotal()">
                <option value="0">Parfum (Ø¹Ø§Ø¯ÙŠ)</option>
                <option value="700">Extrait (Ù…Ø±ÙƒØ²) +700Ø¯Ø¬</option>
            </select>
        </div>
        <div>
            <label>â³ Ø§Ù„Ø«Ø¨Ø§Øª</label>
            <select id="lasting"><option>ÙŠÙˆÙ… ÙƒØ§Ù…Ù„</option><option>Ø«Ø¨Ø§Øª ÙŠÙˆÙ…ÙŠÙ†</option></select>
        </div>
    </div>
</div>

<div class="card">
    <div class="section-title">ğŸ–¼ï¸ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ù„Ù„Ù‚Ø§Ø±ÙˆØ±Ø© (Ø´Ø¹Ø§Ø±/Ù†Ù‚Ø´)</div>
    <div class="file-input-wrapper">
        <span>Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ ØµÙˆØ±Ø©</span>
        <input type="file" id="imageUpload" accept="image/*">
    </div>
    <div class="loading-spinner" id="loadingSpinner"></div>
    <img id="imagePreview" class="file-preview" src="#" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©">
    <input type="hidden" id="uploadedImageUrl">
</div>

<div class="card">
    <div class="section-title">ğŸ§  ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØ§Ù„Ø³ØªØ§ÙŠÙ„</div>
    <div class="row">
        <select id="personality" onchange="genName()">
            <option>ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</option><option>ØºØ§Ù…Ø¶</option><option>ÙØ§Ø®Ø±</option><option>Ø±ÙŠØ§Ø¶ÙŠ</option>
        </select>
        <select id="gender"><option>Ø°ÙƒØ±</option><option>Ø£Ù†Ø«Ù‰</option><option>Ù„Ù„Ø¬Ù†Ø³ÙŠÙ†</option></select>
    </div>
    <div class="row">
        <select id="life"><option>Ù†Ø´Ø·</option><option>Ø¹Ù…Ù„ÙŠ</option><option>Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</option></select>
        <select id="age"><option>18-25</option><option>26-40</option><option>40+</option></select>
    </div>
    <select id="style"><option>Ø±Ø³Ù…ÙŠ</option><option>ÙƒØ§Ø¬ÙˆØ§Ù„</option><option>Ø³ØªØ§ÙŠÙ„ Ø±ÙŠØ§Ø¶ÙŠ</option></select>
</div>

<div class="card">
    <div class="section-title">ğŸŒ¿ Ø§Ù„Ù‡Ø±Ù… Ø§Ù„Ø¹Ø·Ø±ÙŠ</div>
    <select id="notes" onchange="genName()">
        <option value="Ø§Ù„Ø¹ÙˆØ¯">Ù†ÙˆØªØ§Øª Ø§Ù„Ø¹ÙˆØ¯ ÙˆØ§Ù„Ø´Ø±Ù‚</option>
        <option value="Ø§Ù„Ù…Ø³Ùƒ">Ù†ÙˆØªØ§Øª Ø§Ù„Ù…Ø³Ùƒ ÙˆØ§Ù„Ù†Ø¸Ø§ÙØ©</option>
        <option value="Ø§Ù„Ø£Ø²Ù‡Ø§Ø±">Ù†ÙˆØªØ§Øª Ø§Ù„Ø£Ø²Ù‡Ø§Ø± Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
        <option value="Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª">Ù†ÙˆØªØ§Øª ØµÙŠÙÙŠØ© Ø¨Ø§Ø±Ø¯Ø©</option>
    </select>
    
    <div class="row">
        <select id="sweetness"><option>Ø¨Ø¯ÙˆÙ† Ø­Ù„Ø§ÙˆØ©</option><option>Ø­Ù„Ø§ÙˆØ© Ù…ØªÙˆØ³Ø·Ø©</option><option>Ø­Ù„Ø§ÙˆØ© Ø³ÙƒØ±ÙŠØ©</option></select>
        <select id="power"><option>Ø®ÙÙŠÙ</option><option>Ù‚ÙˆØ© Ù…ØªÙˆØ³Ø·Ø©</option><option>Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹</option></select>
    </div>
    
    <div class="row">
        <select id="sillage"><option>ÙÙˆØ­Ø§Ù† Ù‡Ø§Ø¯Ø¦</option><option>ÙÙˆØ­Ø§Ù† ØµØ§Ø±Ø®</option></select>
        <select id="season" onchange="genName()"><option>Ø´ØªØ§Ø¡</option><option>ØµÙŠÙ</option><option>Ø±Ø¨ÙŠØ¹</option><option>Ø®Ø±ÙŠÙ</option></select>
    </div>

    <label>ğŸš« Ù†ÙˆØªØ§Øª Ù…Ø±ÙÙˆØ¶Ø©</label>
    <input id="rejected" placeholder="Ù…ÙƒÙˆÙ†Ø§Øª Ù„Ø§ ØªØ­Ø¨Ù‡Ø§...">
    <label>ğŸ¯ Ø¹Ø·Ø± Ù…Ø±Ø¬Ø¹ (Reference)</label>
    <input id="reference" placeholder="Ø¹Ø·Ø± Ø¹Ø§Ù„Ù…ÙŠ ØªØ­Ø¨Ù‡...">
</div>

<div class="card">
    <div class="section-title">âœ¨ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø·Ø±ÙŠ Ø§Ù„Ù…Ù‚ØªØ±Ø­</div>
    <div class="auto-name-box" id="autoNameDisplay">---</div>
    <input type="hidden" id="autoName">
</div>

<div class="card">
    <div class="section-title">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</div>
    <select id="wilaya" onchange="updateShip()"></select>
    <input id="commune" placeholder="Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©">
    <input id="phone" type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    <button class="btn-wa" onclick="sendWA()">ğŸ“© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
</div>

<div class="price-tag">
    ğŸ“¦ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total">0</span> Ø¯Ø¬
</div>

<script>
const wilayas = ["Ø£Ø¯Ø±Ø§Ø±","Ø§Ù„Ø´Ù„Ù","Ø§Ù„Ø£ØºÙˆØ§Ø·","Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ","Ø¨Ø§ØªÙ†Ø©","Ø¨Ø¬Ø§ÙŠØ©","Ø¨Ø³ÙƒØ±Ø©","Ø¨Ø´Ø§Ø±","Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©","Ø§Ù„Ø¨ÙˆÙŠØ±Ø©","ØªÙ…Ù†Ø±Ø§Ø³Øª","ØªØ¨Ø³Ø©","ØªÙ„Ù…Ø³Ø§Ù†","ØªÙŠØ§Ø±Øª","ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ","Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±","Ø§Ù„Ø¬Ù„ÙØ©","Ø¬ÙŠØ¬Ù„","Ø³Ø·ÙŠÙ","Ø³Ø¹ÙŠØ¯Ø©","Ø³ÙƒÙŠÙƒØ¯Ø©","Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³","Ø¹Ù†Ø§Ø¨Ø©","Ù‚Ø§Ù„Ù…Ø©","Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©","Ø§Ù„Ù…Ø¯ÙŠØ©","Ù…Ø³ØªØºØ§Ù†Ù…","Ø§Ù„Ù…Ø³ÙŠÙ„Ø©","Ù…Ø¹Ø³ÙƒØ±","ÙˆØ±Ù‚Ù„Ø©","ÙˆÙ‡Ø±Ø§Ù†","Ø§Ù„Ø¨ÙŠØ¶","Ø¥Ù„ÙŠØ²ÙŠ","Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬","Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³","Ø§Ù„Ø·Ø§Ø±Ù","ØªÙ†Ø¯ÙˆÙ","ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª","Ø§Ù„ÙˆØ§Ø¯ÙŠ","Ø®Ù†Ø´Ù„Ø©","Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³","ØªÙŠØ¨Ø§Ø²Ø©","Ù…ÙŠÙ„Ø©","Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰","Ø§Ù„Ù†Ø¹Ø§Ù…Ø©","Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª","ØºØ±Ø¯Ø§ÙŠØ©","ØºÙ„ÙŠØ²Ø§Ù†"];
let ship = 0;

const wSelect = document.getElementById("wilaya");
wSelect.add(new Option("-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --", ""));
wilayas.forEach((w, i) => {
    let p = (w === "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±") ? 250 : 600;
    let opt = new Option(`${i+1}. ${w} (${p} Ø¯Ø¬)`, w);
    opt.dataset.p = p;
    wSelect.add(opt);
});

function updateShip() {
    ship = parseInt(wSelect.options[wSelect.selectedIndex].dataset.p) || 0;
    updateTotal();
}

function updateTotal() {
    const sizePrice = parseInt(document.getElementById("size").options[document.getElementById("size").selectedIndex].dataset.p);
    const concPrice = parseInt(document.getElementById("concentration").value);
    document.getElementById("total").innerText = sizePrice + concPrice + ship;
}

function genName() {
    const p = document.getElementById("personality").value;
    const n = document.getElementById("notes").value;
    const s = document.getElementById("season").value;
    const titles = {"ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ": "Ø¹Ø¸Ù…Ø©", "ØºØ§Ù…Ø¶": "Ù„ØºØ²", "ÙØ§Ø®Ø±": "Ù…Ù„Ùƒ", "Ø±ÙŠØ§Ø¶ÙŠ": "Ù†ÙØ³"};
    let final = `${titles[p] || "Ø¹Ø·Ø±"} ${n} ${s === 'Ø´ØªØ§Ø¡' ? 'Ø§Ù„Ø´ØªÙˆÙŠ' : 'Ø§Ù„Ù…Ù†Ø¹Ø´'}`;
    document.getElementById("autoNameDisplay").innerText = final;
    document.getElementById("autoName").value = final;
}

// Image Upload Logic
document.getElementById('imageUpload').addEventListener('change', async function() {
    const file = this.files[0];
    const imagePreview = document.getElementById('imagePreview');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const uploadedImageUrlInput = document.getElementById('uploadedImageUrl');

    if (file) {
        loadingSpinner.style.display = 'block';
        imagePreview.style.display = 'none';
        
        const formData = new FormData();
        formData.append('image', file);
        
        try {
            // Using imgbb for image upload (free, no API key needed for basic use)
            const response = await fetch('https://api.imgbb.com/1/upload?key=YOUR_IMGBB_API_KEY', { 
                method: 'POST',
                body: formData 
            });
            const data = await response.json();
            
            if (data.success) {
                imagePreview.src = data.data.url;
                imagePreview.style.display = 'block';
                uploadedImageUrlInput.value = data.data.url; // Store URL for WhatsApp
            } else {
                alert('ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©: ' + data.error.message);
            }
        } catch (error) {
            alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
            console.error('Image upload error:', error);
        } finally {
            loadingSpinner.style.display = 'none';
        }
    } else {
        imagePreview.style.display = 'none';
        uploadedImageUrlInput.value = '';
    }
});


function sendWA() {
    const phoneNum = document.getElementById("phone").value;
    if(!wSelect.value || !phoneNum) { alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„ÙˆÙ„Ø§ÙŠØ© ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"); return; }

    const uploadedImageUrl = document.getElementById('uploadedImageUrl').value;
    let imageAttachment = uploadedImageUrl ? `ğŸ–¼ï¸ *ØµÙˆØ±Ø© Ù…Ø±ÙÙ‚Ø©:* ${uploadedImageUrl}\n` : '';

    let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± Ù…Ø®ØµØµ Ø¬Ø¯ÙŠØ¯* ğŸº\n` +
              `--------------------------\n` +
              `ğŸ·ï¸ *Ø§Ù„Ø§Ø³Ù…:* ${document.getElementById("autoName").value}\n` +
              `ğŸº *Ø§Ù„Ø­Ø¬Ù…:* ${document.getElementById("size").value}ML\n` +
              `ğŸ’§ *Ø§Ù„ØªØ±ÙƒÙŠØ²:* ${document.getElementById("concentration").options[document.getElementById("concentration").selectedIndex].text}\n` +
              `--------------------------\n` +
              imageAttachment + // Add image URL here
              `ğŸ‘¤ *Ø§Ù„Ø´Ø®ØµÙŠØ©:* ${document.getElementById("personality").value}\n` +
              `ğŸŒ¿ *Ø§Ù„Ù†ÙˆØªØ§Øª:* ${document.getElementById("notes").value}\n` +
              `ğŸ’¨ *Ø§Ù„ÙÙˆØ­Ø§Ù†:* ${document.getElementById("sillage").value}\n` +
              `ğŸš« *Ø§Ù„Ù…Ø±ÙÙˆØ¶:* ${document.getElementById("rejected").value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯"}\n` +
              `ğŸ¯ *Ø§Ù„Ù…Ø±Ø¬Ø¹:* ${document.getElementById("reference").value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯"}\n` +
              `--------------------------\n` +
              `ğŸ“ *Ø§Ù„ÙˆÙ„Ø§ÙŠØ©:* ${wSelect.value}\n` +
              `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${phoneNum}\n` +
              `ğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${document.getElementById("total").innerText} Ø¯Ø¬`;

    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}

genName(); updateTotal();
</script>
</body>
</html>
