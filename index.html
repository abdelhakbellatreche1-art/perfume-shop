<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - Ø§Ù„Ù…ØµÙ…Ù… Ø§Ù„Ø¹Ø·Ø±ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700&family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
<style>
:root{--gold:#d4af37;--bg:#000;--card:#111;--input:#1a1a1a;}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:#fff;margin:0;padding-bottom:170px;direction:rtl;}
.header{text-align:center;padding:30px;border-bottom:1px solid #222;}
.header h1{font-family:'Amiri',serif;color:var(--gold);font-size:30px;margin:0;}
.container{padding:15px;max-width:600px;margin:auto;}
.card{background:var(--card);border-radius:20px;padding:22px;margin-bottom:20px;border:1px solid #222;}
.section-title{color:var(--gold);font-size:16px;font-weight:700;margin-bottom:15px;border-right:4px solid var(--gold);padding-right:12px;}
.question-block {margin-bottom: 25px;}
.question-label {display: block; font-size: 14px; color: #fff; margin-bottom: 12px; font-weight: bold; line-height: 1.6;}
.options-grid {display: flex; flex-wrap: wrap; gap: 8px;}
.option-box {flex: 1; min-width: 100px; background: var(--input); border: 1px solid #333; padding: 12px 8px; border-radius: 10px; text-align: center; font-size: 11px; cursor: pointer; transition: 0.3s; color: #bbb;}
.option-box.selected {background: rgba(212, 175, 55, 0.15); border-color: var(--gold); color: var(--gold); font-weight: bold;}
.option-box.promo {border: 1px solid #27ae60; color: #27ae60;}
.option-box.promo.selected {background: rgba(39, 174, 96, 0.2); border-color: #2ecc71; color: #fff;}
select, input[type="text"], input[type="tel"], textarea {width:100%; background:var(--input); border:1px solid #333; color:#fff; padding:14px; border-radius:12px; font-family:'Cairo'; box-sizing:border-box; outline:none; margin-bottom:15px;}
.price-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(10,10,10,.98);backdrop-filter:blur(15px);padding:20px;border-top:1px solid var(--gold);display:flex;justify-content:space-between;align-items:center;z-index:1000;}
.total-price{font-size:24px;font-weight:700;color:var(--gold);}
.btn-order{background:var(--gold);color:#000;border:none;padding:15px 35px;border-radius:12px;font-weight:700;cursor:pointer;}
.signature-preview { font-family: 'Monsieur La Doulaise', cursive; color: var(--gold); font-size: 24px; text-align: center; margin: 10px 0; border: 1px solid #222; padding: 10px; border-radius: 10px; background: #050505; }
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666;font-size:12px;">MÃ‰DÃ‰A - Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ø´Ø®ØµÙŠØ©</p>
</div>

<div class="container">
    <div class="card">
        <div class="section-title">ğŸ”¬ Ù…ÙŠØ«Ø§Ù‚ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ (16 Ù…Ø¹ÙŠØ§Ø±Ø§Ù‹)</div>
        <div id="questions-container"></div>
    </div>

    <div id="rec-card" class="card" style="border: 1px solid var(--gold); display: none;">
        <div class="section-title">âœ¨ Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ</div>
        <p style="font-size: 11px; color: #888; margin-bottom: 10px;">Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ÙƒØŒ Ù†Ù‚ØªØ±Ø­ Ø¹Ù„ÙŠÙƒ Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø·ÙˆØ±. Ø§Ø®ØªØ± Ø§Ù„Ù…ÙØ¶Ù„ Ù„Ø¯ÙŠÙƒ:</p>
        <div class="options-grid" id="rec-list"></div>
        <input type="hidden" id="chosenPerfume" value="">
    </div>

    <div class="card">
        <div class="section-title">âœï¸ Ù„Ù…Ø³Ø© Ø§Ù„ØªØ®ØµÙŠØµ Ø§Ù„Ø­ØµØ±ÙŠØ©</div>
        <label class="question-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…ÙƒØªÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø©</label>
        <input type="text" id="bottleName" placeholder="Owner Name">
        <label class="question-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù„Ù„Ø¹Ø·Ø±</label>
        <input type="text" id="perfumeTitle" placeholder="Fragrance Title">
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø·Ù„Ø¨</div>
        <div class="options-grid" id="size-options">
            <div class="option-box selected" onclick="selectSize(this, 500)">30ml (500Ø¯Ø¬)</div>
            <div class="option-box" onclick="selectSize(this, 700)">50ml (700Ø¯Ø¬)</div>
            <div class="option-box" onclick="selectSize(this, 1000)">100ml (1000Ø¯Ø¬)</div>
            <div class="option-box promo" onclick="selectSize(this, 2500)">ğŸ’¥ Ø¹Ø±Ø¶ 3 (2500Ø¯Ø¬)</div>
        </div>
        <br>
        <select id="wilaya" onchange="updateShipping()">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>
        </select>
        <input id="commune" type="text" placeholder="Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©">
        <input id="phone" type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    </div>
</div>

<div class="price-bar">
    <div>
        <div style="color:#888;font-size:11px;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="total-price"><span id="totalDisplay">500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø·Ù„Ø¨ ğŸ“©</button>
</div>

<script>
const wilayas = ["01- Ø£Ø¯Ø±Ø§Ø±", "02- Ø§Ù„Ø´Ù„Ù", "03- Ø§Ù„Ø£ØºÙˆØ§Ø·", "04- Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ", "05- Ø¨Ø§ØªÙ†Ø©", "06- Ø¨Ø¬Ø§ÙŠØ©", "07- Ø¨Ø³ÙƒØ±Ø©", "08- Ø¨Ø´Ø§Ø±", "09- Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©", "10- Ø§Ù„Ø¨ÙˆÙŠØ±Ø©", "11- ØªÙ…Ù†Ø±Ø§Ø³Øª", "12- ØªØ¨Ø³Ø©", "13- ØªÙ„Ù…Ø³Ø§Ù†", "14- ØªÙŠØ§Ø±Øª", "15- ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ", "16- Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±", "17- Ø§Ù„Ø¬Ù„ÙØ©", "18- Ø¬ÙŠØ¬Ù„", "19- Ø³Ø·ÙŠÙ", "20- Ø³Ø¹ÙŠØ¯Ø©", "21- Ø³ÙƒÙŠÙƒØ¯Ø©", "22- Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³", "23- Ø¹Ù†Ø§Ø¨Ø©", "24- Ù‚Ø§Ù„Ù…Ø©", "25- Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©", "26- Ø§Ù„Ù…Ø¯ÙŠØ©", "27- Ù…Ø³ØªØºØ§Ù†Ù…", "28- Ø§Ù„Ù…Ø³ÙŠÙ„Ø©", "29- Ù…Ø¹Ø³ÙƒØ±", "30- ÙˆØ±Ù‚Ù„Ø©", "31- ÙˆÙ‡Ø±Ø§Ù†", "32- Ø§Ù„Ø¨ÙŠØ¶", "33- Ø¥Ù„ÙŠØ²ÙŠ", "34- Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬", "35- Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³", "36- Ø§Ù„Ø·Ø§Ø±Ù", "37- ØªÙ†Ø¯ÙˆÙ", "38- ØªØ³Ù…Ø³ÙŠÙ„Øª", "39- Ø§Ù„ÙˆØ§Ø¯ÙŠ", "40- Ø®Ù†Ø´Ù„Ø©", "41- Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³", "42- ØªÙŠØ¨Ø§Ø²Ø©", "43- Ù…ÙŠÙ„Ø©", "44- Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰", "45- Ø§Ù„Ù†Ø¹Ø§Ù…Ø©", "46- Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª", "47- ØºØ±Ø¯Ø§ÙŠØ©", "48- ØºÙ„ÙŠØ²Ø§Ù†", "49- ØªÙŠÙ…ÙŠÙ…ÙˆÙ†", "50- Ø¨Ø±Ø¬ Ø¨Ø§Ø¬ÙŠ Ù…Ø®ØªØ§Ø±", "51- Ø£ÙˆÙ„Ø§Ø¯ Ø¬Ù„Ø§Ù„", "52- Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³", "53- Ø¹ÙŠÙ† ØµØ§Ù„Ø­", "54- Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…", "55- ØªÙ‚Ø±Øª", "56- Ø¬Ø§Ù†Øª", "57- Ø§Ù„Ù…ØºÙŠØ±", "58- Ø§Ù„Ù…Ù†ÙŠØ¹Ø©"];

const questionsData = [
    {id: 1, q: "Ù„Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø¹Ø·Ø±ÙŠØŸ", ops: ["Ø±Ø¬Ù„ Ø£Ù†ÙŠÙ‚", "Ø³ÙŠØ¯Ø© Ø±Ø§Ù‚ÙŠØ©", "Ù„Ù„Ø¬Ù†Ø³ÙŠÙ† (Unisex)"]},
    {id: 2, q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªÙ…Ø«Ù„ÙƒØŸ", ops: ["ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ Ø±ØµÙŠÙ†", "Ø¹ØµØ±ÙŠ Ù…ØªØ­Ø±Ø±", "ØºØ§Ù…Ø¶ ÙˆØ¬Ø°Ø§Ø¨", "Ù‡Ø§Ø¯Ø¦ ÙˆØ¨Ø³ÙŠØ·", "Ø±ÙŠØ§Ø¶ÙŠ Ù…ÙØ¹Ù… Ø¨Ø§Ù„Ø­ÙŠÙˆÙŠØ©"]},
    {id: 3, q: "Ù…ØªÙ‰ ÙŠÙÙˆØ­ Ø¹Ø·Ø±Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ØŸ", ops: ["ÙÙŠ Ø¶ÙŠØ§Ø¡ Ø§Ù„ØµØ¨Ø§Ø­", "ÙÙŠ Ø³ÙƒÙˆÙ† Ø§Ù„Ù…Ø³Ø§Ø¡", "Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„ÙØ®Ù…Ø© ÙÙ‚Ø·", "Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ"]},
    {id: 4, q: "Ø¥Ù„Ù‰ Ø£ÙŠ Ù…Ø¯Ø±Ø³Ø© Ø¹Ø·Ø±ÙŠØ© ØªÙ…ÙŠÙ„ØŸ", ops: ["Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ø§Ù„Ù…Ù†Ø¹Ø´Ø©", "Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©", "Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠØ© Ø§Ù„Ø­Ù…Ø¶ÙŠØ©", "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¨Ø®ÙˆØ± ÙˆØ¹ÙˆØ¯)"]},
    {id: 5, q: "ÙƒÙŠÙ ØªØµÙ Ø­Ø¶ÙˆØ± Ø¹Ø·Ø±Ùƒ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù†ØŸ", ops: ["ÙÙˆØ§Ø­ ÙŠØªØ±Ùƒ Ø£Ø«Ø±Ø§Ù‹", "Ø®Ø¬ÙˆÙ„ ÙŠÙ„Ø§Ù…Ø³ Ø§Ù„Ø¬Ù„Ø¯", "Ù…ØªØ²Ù† (Ø¨ÙŠÙ† Ø§Ù„Ù‡Ø§Ø¯Ø¦ ÙˆØ§Ù„Ù‚ÙˆÙŠ)"]},
    {id: 6, q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠÙØ© Ø§Ù„ØªÙŠ ØªØ¨Ù‡Ø¬ Ø­ÙˆØ§Ø³ÙƒØŸ", ops: ["Ø£Ø®Ø´Ø§Ø¨ ÙˆØºØ§Ø¨Ø§Øª", "Ø²Ù‡ÙˆØ± ÙˆÙˆØ±ÙˆØ¯", "ÙÙˆØ§ÙƒÙ‡ Ø³ÙƒØ±ÙŠØ©", "ØªÙˆØ§Ø¨Ù„ Ø­Ø§Ø¯Ø©", "Ø±ÙˆØ§Ø¦Ø­ Ù…Ø§Ø¦ÙŠØ©"]},
    {id: 7, q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø°ÙŠ ÙŠÙƒØªÙ…Ù„ ÙÙŠÙ‡ Ø¬Ù…Ø§Ù„ÙƒØŸ", ops: ["Ø´ØªØ§Ø¡ Ø¯Ø§ÙØ¦", "ØµÙŠÙ Ù…Ù†Ø¹Ø´", "Ø®Ø±ÙŠÙ Ù‡Ø§Ø¯Ø¦", "Ø±Ø¨ÙŠØ¹ Ù…Ø²Ù‡Ø±"]},
    {id: 8, q: "Ø£ÙŠÙ† Ø³ØªØµØ­Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø·Ø±ØŸ", ops: ["Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„", "Ù„Ù‚Ø§Ø¡ Ø®Ø§Øµ", "Ø­ÙÙ„Ø© Ø²ÙØ§Ù", "Ø§Ù„Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ", "Ø§Ù„Ø¨ÙŠØª ÙˆØ§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡"]},
    {id: 9, q: "ÙƒÙŠÙ ØªÙØ¶Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø·Ø± (Ø§Ù„Ø«Ø¨Ø§Øª)ØŸ", ops: ["Ù…Ø³Ùƒ Ø£Ø¨ÙŠØ¶ Ù†Ù‚ÙÙŠ", "Ø¹Ù†Ø¨Ø± Ù…Ù„ÙƒÙŠ Ø¯Ø§ÙØ¦", "Ø¹ÙˆØ¯ ÙƒÙ…Ø¨ÙˆØ¯ÙŠ ÙØ§Ø®Ø±", "ÙØ§Ù†ÙŠÙ„ÙŠØ§ Ù†Ø§Ø¹Ù…Ø©", "Ø¨Ø§ØªØ´ÙˆÙ„ÙŠ ØªØ±Ø§Ø¨ÙŠ"]},
    {id: 10, q: "Ù…Ø§ Ù‡Ùˆ Ù„ÙˆÙ†Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ØŸ", ops: ["Ø§Ù„Ø£Ø³ÙˆØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠ", "Ø§Ù„Ø£Ø¨ÙŠØ¶ Ø§Ù„ØµØ§ÙÙŠ", "Ø§Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„Ø¹Ù…ÙŠÙ‚", "Ø§Ù„Ø£Ø­Ù…Ø± Ø§Ù„Ø¬Ø±ÙŠØ¡", "Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ"]},
    {id: 11, q: "Ø·Ø¨ÙŠØ¹Ø© Ø¨Ø´Ø±ØªÙƒØŸ", ops: ["Ø¬Ø§ÙØ©", "Ø¯Ù‡Ù†ÙŠØ©", "Ù…Ø®ØªÙ„Ø·Ø©", "Ø¹Ø§Ø¯ÙŠØ©"]},
    {id: 12, q: "Ù‡Ù„ ØªØ­Ø¨ Ø±Ø§Ø¦Ø­Ø© 'Ø§Ù„Ù†Ø¸Ø§ÙØ©'ØŸ", ops: ["Ø¨Ø´Ø¯Ø©", "Ù„Ø§ØŒ Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø©", "Ø®ÙÙŠÙ Ø¬Ø¯Ø§Ù‹"]},
    {id: 13, q: "Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø¹Ø·Ø±ÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØŸ", ops: ["Ø´Ø¨Ø§Ø¨ÙŠ", "Ù†Ø§Ø¶Ø¬ ÙˆÙˆÙ‚ÙˆØ±", "Ø¹Ø§Ø¨Ø± Ù„Ù„Ø£Ø¹Ù…Ø§Ø±"]},
    {id: 14, q: "Ù‡Ù„ ØªÙØ¶Ù„ Ù„Ù…Ø³Ø© Ø§Ù„Ø­Ù…Ø¶ÙŠØ§ØªØŸ", ops: ["Ù†Ø¹Ù… Ø·Ø§Ù‚Ø©", "Ù„Ø§ Ø³ÙƒØ±ÙŠØ§Øª", "Ø¨Ù„Ù…Ø³Ø© Ø®Ø´Ø¨ÙŠØ©"]},
    {id: 15, q: "Ø§Ù„ÙÙˆØ­Ø§Ù† Ø£Ù… Ø§Ù„Ø«Ø¨Ø§ØªØŸ", ops: ["Ø§Ù„ÙÙˆØ­Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹", "Ø§Ù„Ø«Ø¨Ø§Øª Ù„Ø³Ø§Ø¹Ø§Øª", "Ø§Ù„ØªÙˆØ§Ø²Ù†"]},
    {id: 16, q: "Ù…Ø³ØªÙˆØ­Ù‰ Ù…Ù† Ù…Ø§Ø±ÙƒØ© Ø¹Ø§Ù„Ù…ÙŠØ©ØŸ", ops: ["Ù†Ø¹Ù… (Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„)", "Ù„Ø§ØŒ Ø§Ø¨ØªÙƒØ§Ø± Ø®Ø§Øµ"]}
];

const logic = {
    "Ø±Ø¬Ù„ Ø£Ù†ÙŠÙ‚-Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ø§Ù„Ù…Ù†Ø¹Ø´Ø©": ["Sauvage", "Bleu de Chanel", "Acqua di Gio"],
    "Ø±Ø¬Ù„ Ø£Ù†ÙŠÙ‚-Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ø§Ù„Ø«Ù‚ÙŠÙ„Ø©": ["Stronger With You", "Ombre Nomade"],
    "Ø³ÙŠØ¯Ø© Ø±Ø§Ù‚ÙŠØ©-Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ø§Ù„Ù…Ù†Ø¹Ø´Ø©": ["Libre", "Miss Dior", "Jadore"],
    "Ù„Ù„Ø¬Ù†Ø³ÙŠÙ†-Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¨Ø®ÙˆØ± ÙˆØ¹ÙˆØ¯)": ["Oud Wood", "Black Afgano", "Baccarat Rouge"]
};

let selectedAnswers = {};
let currentProductPrice = 500;
let shipPrice = 0;

const selectWilaya = document.getElementById('wilaya');
wilayas.forEach(w => { let opt = document.createElement('option'); opt.value = w; opt.innerHTML = w; selectWilaya.appendChild(opt); });

const qContainer = document.getElementById('questions-container');
questionsData.forEach(item => {
    let html = `<div class="question-block"><span class="question-label">${item.id}- ${item.q}</span><div class="options-grid">`;
    item.ops.forEach(opt => { html += `<div class="option-box" onclick="selectOption(${item.id}, '${opt}', this)">${opt}</div>`; });
    qContainer.innerHTML += html + `</div></div>`;
});

function selectOption(id, val, el) {
    el.parentElement.querySelectorAll('.option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    selectedAnswers[id] = val;
    updateRec();
}

function updateRec() {
    const key = `${selectedAnswers[1]}-${selectedAnswers[4]}`;
    const list = logic[key] || ["Ø¹Ø·Ø± Lab Ø§Ù„Ù…Ø®ØµØµ", "ØªÙˆÙ„ÙŠÙØ© Ù…Ù„ÙƒÙŠØ© Ø®Ø§ØµØ©"];
    const recCard = document.getElementById('rec-card');
    const recList = document.getElementById('rec-list');
    
    if(selectedAnswers[1] && selectedAnswers[4]) {
        recCard.style.display = 'block';
        recList.innerHTML = "";
        list.forEach(p => {
            let div = document.createElement('div');
            div.className = 'option-box';
            div.innerText = p;
            div.onclick = function() {
                recList.querySelectorAll('.option-box').forEach(b => b.classList.remove('selected'));
                div.classList.add('selected');
                document.getElementById('chosenPerfume').value = p;
            };
            recList.appendChild(div);
        });
    }
}

function selectSize(el, price) {
    document.querySelectorAll('#size-options .option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    currentProductPrice = price;
    updateTotal();
}

function updateShipping() {
    const w = document.getElementById("wilaya").value;
    if(w.includes("Ø§Ù„Ù…Ø¯ÙŠØ©")) shipPrice = 200;
    else if(w.includes("Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±") || w.includes("Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©")) shipPrice = 400;
    else shipPrice = 600;
    updateTotal();
}

function updateTotal() { document.getElementById("totalDisplay").textContent = currentProductPrice + shipPrice; }

function sendWA() {
    const w = document.getElementById("wilaya").value;
    const p = document.getElementById("phone").value;
    const chosen = document.getElementById('chosenPerfume').value || "Ø§Ø¨ØªÙƒØ§Ø± Ø®Ø§Øµ";
    
    if(!w || !p) { alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }
    
    let ansStr = "";
    for(let i=1; i<=16; i++) { if(selectedAnswers[i]) ansStr += `Ø³${i}:${selectedAnswers[i]} | `; }

    let msg = `*ğŸ”¬ Ø·Ù„Ø¨ Ø¹Ø·Ø± Ù…Ø®ØµØµ (Perfume Lab)*\n` +
              `âœ¨ *Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±:* ${chosen}\n` +
              `ğŸ‘¤ *Ø§Ù„Ù…Ø§Ù„Ùƒ:* ${document.getElementById('bottleName').value}\n` +
              `ğŸ“¦ *Ø§Ù„Ø­Ø¬Ù…:* ${document.querySelector('#size-options .selected').innerText}\n` +
              `ğŸ“ *Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${w}\n\n` +
              `ğŸ§ª *Ø§Ù„ØªØ­Ù„ÙŠÙ„:* ${ansStr}\n\n` +
              `ğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${document.getElementById("totalDisplay").textContent} Ø¯Ø¬`;

    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}
</script>
</body>
</html>
