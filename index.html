<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - MÃ©dÃ©a Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">
<style>
    :root { --gold: #d4af37; --bg: #000; --card: #111; --input: #1a1a1a; }
    body { font-family: 'Cairo', sans-serif; background: var(--bg); color: #fff; margin: 0; padding-bottom: 160px; direction: rtl; }
    .header { text-align: center; padding: 30px 20px; border-bottom: 1px solid #222; }
    .header h1 { font-family: 'Amiri', serif; color: var(--gold); margin: 0; font-size: 28px; }
    .container { padding: 15px; }
    .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #222; }
    .section-title { color: var(--gold); font-size: 16px; font-weight: 700; margin-bottom: 15px; border-right: 3px solid var(--gold); padding-right: 10px; }
    label { display: block; font-size: 12px; color: #888; margin: 10px 0 5px; }
    select, input { width: 100%; background: var(--input); border: 1px solid #333; color: #fff; padding: 12px; border-radius: 12px; font-family: 'Cairo'; box-sizing: border-box; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .size-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
    .size-option { background: var(--input); border: 1px solid #333; padding: 10px; text-align: center; border-radius: 10px; cursor: pointer; font-size: 13px; }
    .size-option.active { border-color: var(--gold); background: rgba(212, 175, 55, 0.1); color: var(--gold); }
    .engrave-preview { font-family: 'Amiri', serif; color: var(--gold); font-size: 24px; text-align: center; margin-top: 10px; border: 1px dashed #333; padding: 10px; border-radius: 10px; min-height: 40px; }
    .price-bar { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(10px); padding: 20px; border-top: 1px solid var(--gold); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
    .total-price { font-size: 20px; font-weight: 700; color: var(--gold); }
    .btn-order { background: var(--gold); color: #000; border: none; padding: 15px 25px; border-radius: 12px; font-weight: 700; cursor: pointer; }
    .ship-notice { font-size: 11px; color: var(--gold); margin-top: 8px; text-align: center; display: none; }
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666; font-size:12px;">Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„ÙˆØ·Ù†</p>
</div>

<div class="container">
    
    <div class="card">
        <div class="section-title">ğŸ‘¤ Ø£ÙˆÙ„Ø§Ù‹: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†</div>
        <div class="row">
            <div><label>Ø§Ù„Ø¬Ù†Ø³</label><select id="gender"><option>Ø°ÙƒØ±</option><option>Ø£Ù†Ø«Ù‰</option></select></div>
            <div><label>Ø§Ù„Ø¹Ù…Ø±</label><select id="age"><option>18-25</option><option>26-40</option><option>40+</option></select></div>
        </div>
        <label>Ù†Ù…Ø· Ø§Ù„Ø´Ø®ØµÙŠØ©</label>
        <select id="personality"><option>ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ</option><option>ØºØ§Ù…Ø¶</option><option>ÙØ§Ø®Ø±</option><option>Ø±ÙŠØ§Ø¶ÙŠ</option></select>
    </div>

    <div class="card">
        <div class="section-title">ğŸŒ¿ Ø«Ø§Ù†ÙŠØ§Ù‹: ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ø±Ø§Ø¦Ø­Ø©</div>
        <label>Ø§Ù„Ù†ÙˆØªØ© Ø§Ù„Ø¹Ø·Ø±ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©</label>
        <select id="notes">
            <option>Ø§Ù„Ø¹ÙˆØ¯ ÙˆØ§Ù„Ø´Ø±Ù‚</option>
            <option>Ø§Ù„Ù…Ø³Ùƒ ÙˆØ§Ù„Ù†Ø¸Ø§ÙØ©</option>
            <option>Ø§Ù„Ø£Ø²Ù‡Ø§Ø± ÙˆØ§Ù„ÙˆØ±ÙˆØ¯</option>
            <option>Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø§Ù†ØªØ¹Ø§Ø´</option>
        </select>
        <label>Ø§Ø³Ù… Ø¹Ø·Ø± ØªØ­Ø¨Ù‡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input id="reference" placeholder="Ù…Ø«Ù„Ø§Ù‹: Sauvage, Black Opium...">
    </div>

    <div class="card">
        <div class="section-title">ğŸ§ª Ø«Ø§Ù„Ø«Ø§Ù‹: Ø§Ù„ØªØ®ØµÙŠØµ ÙˆØ§Ù„Ø­ÙØ±</div>
        <label>Ø§Ø®ØªØ± Ø³Ø¹Ø© Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø©</label>
        <div class="size-grid">
            <div class="size-option" onclick="selectSize(30, 1500, this)">30ml</div>
            <div class="size-option active" onclick="selectSize(50, 2500, this)">50ml</div>
            <div class="size-option" onclick="selectSize(100, 4500, this)">100ml</div>
        </div>
        
        <label>Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬Ø© Ø¨Ø§Ù„Ù„ÙŠØ²Ø± (+300 Ø¯Ø¬)</label>
        <input id="engraving" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø£Ùˆ Ø¹Ø¨Ø§Ø±Ø© Ù‡Ù†Ø§..." oninput="updateEngrave()">
        <div class="engrave-preview" id="previewText">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø®Ø·</div>
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ø±Ø§Ø¨Ø¹Ø§Ù‹: Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</div>
        <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
        <select id="wilaya" onchange="updateCommunes()"></select>
        
        <label>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
        <select id="commune"><option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ --</option></select>
        
        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input id="phone" type="tel" placeholder="05 / 06 / 07 ...">
        
        <div id="shipNotice" class="ship-notice"></div>
    </div>
</div>

<div class="price-bar">
    <div class="total-info">
        <div style="color:#888; font-size:12px;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø´Ø­Ù†</div>
        <div class="total-price"><span id="totalDisplay">2500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ğŸ“©</button>
</div>

<script>
    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª ÙˆØ§Ù„Ø¨Ù„Ø¯ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± (Ø§Ù†Ø·Ù„Ø§Ù‚Ø§Ù‹ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ©)
    const geoData = {
        "Ø§Ù„Ù…Ø¯ÙŠØ©": { price: 200, communes: ["Ø§Ù„Ù…Ø¯ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²", "ÙˆØ²Ø±Ø©", "Ø§Ù„Ø¨Ø±ÙˆØ§Ù‚ÙŠØ©", "Ù‚ØµØ± Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ", "Ø¨Ù†ÙŠ Ø³Ù„ÙŠÙ…Ø§Ù†", "ØªØ§Ø¨Ù„Ø§Ø·", "ÙˆØ§Ù…Ø±ÙŠ", "Ø´Ù„Ø§Ù„Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡"] },
        "Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": { price: 300, communes: ["Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©", "Ø¨ÙˆÙØ§Ø±ÙŠÙƒ", "Ø§Ù„Ø¹ÙØ±ÙˆÙ†", "Ù…ÙˆØ²Ø§ÙŠØ©", "Ø£ÙˆÙ„Ø§Ø¯ ÙŠØ¹ÙŠØ´"] },
        "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": { price: 400, communes: ["Ø³ÙŠØ¯ÙŠ Ø§Ù…Ø­Ù…Ø¯", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø¯Ø§Ù„ÙŠ Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø§Ù„Ø­Ø±Ø§Ø´", "Ø²Ø±Ø§Ù„Ø¯Ø©", "Ø¨Ø§Ø¨ Ø§Ù„ÙˆØ§Ø¯"] },
        "Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰": { price: 400, communes: ["Ø®Ù…ÙŠØ³ Ù…Ù„ÙŠØ§Ù†Ø©", "Ù…Ù„ÙŠØ§Ù†Ø©", "Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¹Ø·Ø§Ù"] },
        "ØªÙŠØ¨Ø§Ø²Ø©": { price: 450, communes: ["ØªÙŠØ¨Ø§Ø²Ø©", "Ø­Ø¬ÙˆØ·", "Ø§Ù„Ù‚Ù„ÙŠØ¹Ø©", "Ø¨ÙˆØ³Ù…Ø§Ø¹ÙŠÙ„"] },
        "Ø§Ù„Ø¬Ù„ÙØ©": { price: 500, communes: ["Ø§Ù„Ø¬Ù„ÙØ© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¹ÙŠÙ† ÙˆØ³Ø§Ø±Ø©", "Ø­Ø§Ø³ÙŠ Ø¨Ø­Ø¨Ø­", "Ù…Ø³Ø¹Ø¯"] },
        "ÙˆÙ‡Ø±Ø§Ù†": { price: 600, communes: ["ÙˆÙ‡Ø±Ø§Ù† Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙŠØ± Ø§Ù„Ø¬ÙŠØ±", "Ø§Ù„Ø³Ø§Ù†ÙŠØ§", "Ø£Ø±Ø²ÙŠÙˆ"] },
        "Ø³Ø·ÙŠÙ": { price: 600, communes: ["Ø³Ø·ÙŠÙ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¹Ù„Ù…Ø©", "Ø¹ÙŠÙ† Ø£Ø±Ù†Ø§Øª"] },
        "ÙˆØ±Ù‚Ù„Ø©": { price: 750, communes: ["ÙˆØ±Ù‚Ù„Ø©", "Ø­Ø§Ø³ÙŠ Ù…Ø³Ø¹ÙˆØ¯"] },
        "Ø£Ø¯Ø±Ø§Ø±": { price: 800, communes: ["Ø£Ø¯Ø±Ø§Ø± Ø§Ù„Ù…Ø±ÙƒØ²", "ØªÙŠÙ…ÙŠÙ…ÙˆÙ†", "Ø±ØºØ§Ù†"] },
        "ØªÙ…Ù†Ø±Ø§Ø³Øª": { price: 800, communes: ["ØªÙ…Ù†Ø±Ø§Ø³Øª Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¹ÙŠÙ† ØµØ§Ù„Ø­"] }
    };

    let sizePrice = 2500; let shipPrice = 0; let engravePrice = 0;

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª
    const wSel = document.getElementById('wilaya');
    const cSel = document.getElementById('commune');
    wSel.add(new Option("-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --", ""));
    for (let w in geoData) wSel.add(new Option(w, w));

    function updateCommunes() {
        const w = wSel.value;
        cSel.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© --</option>';
        const notice = document.getElementById('shipNotice');
        
        if (w && geoData[w]) {
            geoData[w].communes.forEach(c => cSel.add(new Option(c, c)));
            shipPrice = geoData[w].price;
            notice.style.display = "block";
            notice.innerText = `Ø³Ø¹Ø± Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¥Ù„Ù‰ ${w}: ${shipPrice} Ø¯Ø¬`;
        } else {
            shipPrice = 0;
            notice.style.display = "none";
        }
        updateTotal();
    }

    function selectSize(size, price, el) {
        sizePrice = price;
        document.querySelectorAll('.size-option').forEach(opt => opt.classList.remove('active'));
        el.classList.add('active');
        updateTotal();
    }

    function updateEngrave() {
        const text = document.getElementById('engraving').value;
        engravePrice = text.trim() !== "" ? 300 : 0;
        document.getElementById('previewText').innerText = text || "Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø®Ø·";
        updateTotal();
    }

    function updateTotal() {
        document.getElementById('totalDisplay').innerText = sizePrice + shipPrice + engravePrice;
    }

    function sendWA() {
        const p = document.getElementById('phone').value;
        if(!wSel.value || !cSel.value || !p) { alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù†"); return; }
        
        let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± Lab Pro* ğŸº\n` +
                  `-------------------\n` +
                  `ğŸŒ¿ Ø§Ù„Ù†ÙˆØªØ©: ${document.getElementById('notes').value}\n` +
                  `âœï¸ Ø§Ù„Ø­ÙØ±: ${document.getElementById('engraving').value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯"}\n` +
                  `ğŸ“ Ø§Ù„ØªÙˆØµÙŠÙ„: ${wSel.value} - ${cSel.value}\n` +
                  `ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById('totalDisplay').innerText} Ø¯Ø¬`;
        
        window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
    }
</script>
</body>
</html>
