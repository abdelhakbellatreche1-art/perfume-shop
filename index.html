<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - MÃ©dÃ©a Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root { --gold: #d4af37; --bg: #000; --card: #111; --input: #1a1a1a; }
    body { font-family: 'Cairo', sans-serif; background: var(--bg); color: #fff; margin: 0; padding-bottom: 160px; direction: rtl; }
    .header { text-align: center; padding: 25px; border-bottom: 1px solid #222; background: linear-gradient(to bottom, #111, #000); }
    .header h1 { font-family: 'Amiri', serif; color: var(--gold); font-size: 28px; margin: 0; }
    .container { padding: 15px; max-width: 600px; margin: auto; }
    .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #222; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    .section-title { color: var(--gold); font-size: 16px; font-weight: 700; margin-bottom: 15px; border-right: 3px solid var(--gold); padding-right: 10px; }
    label { display: block; font-size: 11px; color: #888; margin: 10px 0 5px; }
    select, input { width: 100%; background: var(--input); border: 1px solid #333; color: #fff; padding: 12px; border-radius: 12px; font-family: 'Cairo'; box-sizing: border-box; outline: none; transition: 0.3s; }
    select:focus, input:focus { border-color: var(--gold); }
    .price-bar { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(15px); padding: 20px; border-top: 1px solid var(--gold); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
    .total-price { font-size: 24px; font-weight: 700; color: var(--gold); }
    .btn-order { background: var(--gold); color: #000; border: none; padding: 15px 35px; border-radius: 12px; font-weight: 700; cursor: pointer; font-size: 16px; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); }
    .engrave-preview { font-family: 'Amiri', serif; color: var(--gold); font-size: 24px; text-align: center; margin-top: 10px; border: 1px dashed #444; padding: 10px; border-radius: 10px; min-height: 40px; background: #0a0a0a; }
    .ship-badge { display: inline-block; background: rgba(212, 175, 55, 0.1); color: var(--gold); padding: 5px 12px; border-radius: 8px; font-size: 11px; margin-top: 10px; border: 1px solid rgba(212, 175, 55, 0.2); width: 100%; text-align: center; box-sizing: border-box; }
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666; font-size:12px;">Ù…Ù‚Ø±Ù†Ø§ Ø§Ù„Ù…Ø¯ÙŠØ© - ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„ÙØ§Ø®Ø±Ø©</p>
</div>

<div class="container">
    
    <div class="card">
        <div class="section-title">ğŸº ØªØ®ØµÙŠØµ Ø¹Ø·Ø± Ù…Ø®ØµØµ</div>
        <label>Ø­Ø¬Ù… Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø©</label>
        <select id="size" onchange="updateTotal()">
            <option value="1500">30ml - 1500 Ø¯Ø¬</option>
            <option value="2500" selected>50ml - 2500 Ø¯Ø¬</option>
            <option value="4500">100ml - 4500 Ø¯Ø¬</option>
        </select>

        <label>Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬Ø© Ø¨Ø§Ù„Ù„ÙŠØ²Ø± (+300 Ø¯Ø¬)</label>
        <input id="engraveInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø£Ùˆ Ø¹Ø¨Ø§Ø±Ø© ÙØ®Ù…Ø©..." oninput="updateEngrave()">
        <div class="engrave-preview" id="previewText">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø­ÙØ±</div>
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</div>
        
        <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
        <select id="wilaya" onchange="updateCommunes()">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>
        </select>

        <label>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
        <select id="commune">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ --</option>
        </select>

        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input id="phone" type="tel" placeholder="05 / 06 / 07 ...">
        
        <div id="shipBadge" class="ship-badge" style="display:none;"></div>
    </div>
</div>

<div class="price-bar">
    <div class="total-info">
        <div style="color:#888; font-size:11px;">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="total-price"><span id="totalDisplay">2500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ ğŸ“©</button>
</div>

<script>
// Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ø§Ù„ÙˆÙ„Ø§ÙŠØ§ØªØŒ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ§ØªØŒ ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± (200 Ø¥Ù„Ù‰ 1000 Ø¯Ø¬)
const geoData = {
    "Ø§Ù„Ù…Ø¯ÙŠØ©": { price: 200, communes: ["Ø§Ù„Ù…Ø¯ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¨Ø±ÙˆØ§Ù‚ÙŠØ©", "ÙˆØ²Ø±Ø©", "Ù‚ØµØ± Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ", "Ø¨Ù†ÙŠ Ø³Ù„ÙŠÙ…Ø§Ù†", "ØªØ§Ø¨Ù„Ø§Ø·", "ÙˆØ§Ù…Ø±ÙŠ", "Ø³ÙŠ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨", "Ø¹Ø²ÙŠØ²", "Ø´Ù„Ø§Ù„Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡"] },
    "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": { price: 300, communes: ["Ø³ÙŠØ¯ÙŠ Ø§Ù…Ø­Ù…Ø¯", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø¯Ø§Ù„ÙŠ Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø§Ù„Ø´Ø±Ø§Ù‚Ø©", "Ø§Ù„Ø­Ø±Ø§Ø´", "Ø¨Ø¦Ø± Ù…Ø±Ø§Ø¯ Ø±Ø§ÙŠØ³", "Ø¨Ø§Ø¨ Ø§Ù„ÙˆØ§Ø¯", "Ø²Ø±Ø§Ù„Ø¯Ø©", "Ø¹ÙŠÙ† Ø¨Ù†ÙŠØ§Ù†", "Ø±ÙˆÙŠØ¨Ø©"] },
    "Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": { price: 300, communes: ["Ø§Ù„Ø¨Ù„ÙŠØ¯Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙˆÙØ§Ø±ÙŠÙƒ", "Ø£ÙˆÙ„Ø§Ø¯ ÙŠØ¹ÙŠØ´", "Ù…ÙˆØ²Ø§ÙŠØ©", "Ø§Ù„Ø¹ÙØ±ÙˆÙ†", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ù…ÙØªØ§Ø­", "Ø¨ÙˆÙ‚Ø±Ø©"] },
    "ØªÙŠØ¨Ø§Ø²Ø©": { price: 350, communes: ["ØªÙŠØ¨Ø§Ø²Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø­Ø¬ÙˆØ·", "Ø§Ù„Ù‚Ù„ÙŠØ¹Ø©", "Ø¨ÙˆØ³Ù…Ø§Ø¹ÙŠÙ„", "Ø´Ø±Ø´Ø§Ù„", "ÙÙˆÙƒØ©", "ØªÙŠØ¨Ø§Ø²Ø© Ø§Ù„Ø´Ø§Ø·Ø¦"] },
    "Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³": { price: 400, communes: ["Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙˆØ¯ÙˆØ§Ùˆ", "Ø®Ù…ÙŠØ³ Ø§Ù„Ø®Ø´Ù†Ø©", "Ø¯Ù„Ø³", "Ø¨Ø±Ø¬ Ù…Ù†Ø§ÙŠÙ„", "Ø§Ù„Ø«Ù†ÙŠØ©"] },
    "Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰": { price: 400, communes: ["Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø®Ù…ÙŠØ³ Ù…Ù„ÙŠØ§Ù†Ø©", "Ù…Ù„ÙŠØ§Ù†Ø©", "Ø§Ù„Ø¹Ø·Ø§Ù", "Ø¬Ù„ÙŠØ¯Ø©", "Ø§Ù„Ø¹Ø¨Ø§Ø¯ÙŠØ©"] },
    "Ø§Ù„Ø¨ÙˆÙŠØ±Ø©": { price: 400, communes: ["Ø§Ù„Ø¨ÙˆÙŠØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø£Ø®Ø¶Ø±ÙŠØ©", "Ø³ÙˆØ± Ø§Ù„ØºØ²Ù„Ø§Ù†", "Ø¹ÙŠÙ† Ø¨Ø³Ø§Ù…", "Ù…Ø´Ø¯ Ø§Ù„Ù„Ù‡", "Ø¨Ø´Ù„ÙˆÙ„"] },
    "Ø§Ù„Ø¬Ù„ÙØ©": { price: 500, communes: ["Ø§Ù„Ø¬Ù„ÙØ© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¹ÙŠÙ† ÙˆØ³Ø§Ø±Ø©", "Ø­Ø§Ø³ÙŠ Ø¨Ø­Ø¨Ø­", "Ù…Ø³Ø¹Ø¯", "Ø§Ù„Ø´Ø§Ø±Ù", "Ø¯Ø§Ø± Ø§Ù„Ø´ÙŠÙˆØ®"] },
    "ØªÙŠØ§Ø±Øª": { price: 600, communes: ["ØªÙŠØ§Ø±Øª Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø³ÙˆÙ‚Ø±", "ÙØ±Ù†Ø¯Ø©", "Ù‚ØµØ± Ø§Ù„Ø´Ù„Ø§Ù„Ø©", "Ù…Ø¯Ø±ÙˆØ³Ø©", "Ø±Ø­ÙˆÙŠØ©"] },
    "ÙˆÙ‡Ø±Ø§Ù†": { price: 650, communes: ["ÙˆÙ‡Ø±Ø§Ù† Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙŠØ± Ø§Ù„Ø¬ÙŠØ±", "Ø§Ù„Ø³Ø§Ù†ÙŠØ§", "Ø£Ø±Ø²ÙŠÙˆ", "Ø¹ÙŠÙ† Ø§Ù„ØªØ±Ùƒ", "Ù‚Ø¯ÙŠÙ„", "Ø¨Ø·ÙŠÙˆØ©"] },
    "Ø³Ø·ÙŠÙ": { price: 600, communes: ["Ø³Ø·ÙŠÙ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¹Ù„Ù…Ø©", "Ø¹ÙŠÙ† Ø£Ø±Ù†Ø§Øª", "Ø¨ÙˆÙ‚Ø§Ø¹Ø©", "Ø¹ÙŠÙ† Ø£Ø²Ø§Ù„", "Ø¨Ù†ÙŠ Ø¹Ø²ÙŠØ²"] },
    "Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©": { price: 650, communes: ["Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø®Ø±ÙˆØ¨", "Ø­Ø§Ù…Ø© Ø¨ÙˆØ²ÙŠØ§Ù†", "Ø¹ÙŠÙ† Ø³Ù…Ø§Ø±Ø©", "Ø²ÙŠØºÙˆØ¯ ÙŠÙˆØ³Ù"] },
    "ØªÙ„Ù…Ø³Ø§Ù†": { price: 700, communes: ["ØªÙ„Ù…Ø³Ø§Ù† Ø§Ù„Ù…Ø±ÙƒØ²", "Ù…ØºÙ†ÙŠØ©", "Ù…Ù†ØµÙˆØ±Ø©", "Ø³Ø¨Ø¯Ùˆ", "Ø£ÙˆÙ„Ø§Ø¯ Ù…ÙŠÙ…ÙˆÙ†", "Ø§Ù„ØºØ²ÙˆØ§Øª"] },
    "ÙˆØ±Ù‚Ù„Ø©": { price: 800, communes: ["ÙˆØ±Ù‚Ù„Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø­Ø§Ø³ÙŠ Ù…Ø³Ø¹ÙˆØ¯", "Ø§Ù„Ø±ÙˆÙŠØ³Ø§Øª", "ØªÙ…Ø§Ø³ÙŠÙ†"] },
    "Ø£Ø¯Ø±Ø§Ø±": { price: 1000, communes: ["Ø£Ø¯Ø±Ø§Ø± Ø§Ù„Ù…Ø±ÙƒØ²", "ØªÙŠÙ…ÙŠÙ…ÙˆÙ†", "Ø±ØºØ§Ù†", "Ø£ÙˆÙ„Ù", "Ø´Ø±ÙˆÙŠÙ†"] },
    "Ø¨Ø´Ø§Ø±": { price: 900, communes: ["Ø¨Ø´Ø§Ø± Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ù‚Ù†Ø§Ø¯Ø³Ø©", "ØªØ§ØºÙŠØª", "Ø¨Ù†ÙŠ Ø¹Ø¨Ø§Ø³", "Ø§Ù„Ø¹Ø¨Ø§Ø¯Ù„Ø©"] },
    "ØªÙ…Ù†Ø±Ø§Ø³Øª": { price: 1000, communes: ["ØªÙ…Ù†Ø±Ø§Ø³Øª Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¹ÙŠÙ† ØµØ§Ù„Ø­", "Ø¹ÙŠÙ† Ù‚Ø²Ø§Ù…", "Ø£Ø¨Ù„Ø³Ø©"] },
    "Ø§Ù„ÙˆØ§Ø¯ÙŠ": { price: 800, communes: ["Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ù…Ø±ÙƒØ²", "Ù‚Ù…Ø§Ø±", "Ø¬Ø§Ù…Ø¹Ø©", "Ø§Ù„Ù…ØºÙŠØ±"] }
};

const wilayaSelect = document.getElementById('wilaya');
const communeSelect = document.getElementById('commune');
const totalDisplay = document.getElementById('totalDisplay');
const shipBadge = document.getElementById('shipBadge');
let engravePrice = 0;

// ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
for (let w in geoData) {
    wilayaSelect.add(new Option(w, w));
}

function updateCommunes() {
    const w = wilayaSelect.value;
    communeSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© --</option>';
    
    if (w && geoData[w]) {
        geoData[w].communes.forEach(c => communeSelect.add(new Option(c, c)));
        shipBadge.style.display = "block";
        shipBadge.innerText = `Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¥Ù„Ù‰ ${w}: ${geoData[w].price} Ø¯Ø¬`;
    } else {
        shipBadge.style.display = "none";
    }
    updateTotal();
}

function updateEngrave() {
    const val = document.getElementById('engraveInput').value;
    if(val.trim() !== "") {
        engravePrice = 300;
        document.getElementById('previewText').innerText = val;
    } else {
        engravePrice = 0;
        document.getElementById('previewText').innerText = "Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø­ÙØ±";
    }
    updateTotal();
}

function updateTotal() {
    const sizeVal = parseInt(document.getElementById('size').value);
    const shipVal = (wilayaSelect.value && geoData[wilayaSelect.value]) ? geoData[wilayaSelect.value].price : 0;
    totalDisplay.innerText = sizeVal + shipVal + engravePrice;
}

function sendWA() {
    const w = wilayaSelect.value;
    const c = communeSelect.value;
    const p = document.getElementById('phone').value;
    const eng = document.getElementById('engraveInput').value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
    
    if(!w || !c || !p) { alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"); return; }
    
    let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± Lab Pro* ğŸº\n` +
              `-------------------\n` +
              `ğŸ“¦ Ø§Ù„Ø­Ø¬Ù…: ${document.getElementById('size').options[document.getElementById('size').selectedIndex].text}\n` +
              `âœï¸ Ø§Ù„Ø­ÙØ± Ø¨Ø§Ù„Ù„ÙŠØ²Ø±: ${eng}\n` +
              `-------------------\n` +
              `ğŸ“ Ø§Ù„ÙˆÙ„Ø§ÙŠØ©: ${w}\n` +
              `ğŸ˜ï¸ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©: ${c}\n` +
              `ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${p}\n` +
              `ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalDisplay.innerText} Ø¯Ø¬`;
              
    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}
</script>
</body>
</html>
