<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - Designer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--gold:#d4af37;--bg:#000;--card:#111;--input:#1a1a1a;}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:#fff;margin:0;padding-bottom:170px;direction:rtl;}
.header{text-align:center;padding:30px;border-bottom:1px solid #222;}
.header h1{font-family:'Amiri',serif;color:var(--gold);font-size:30px;margin:0;}
.container{padding:15px;max-width:600px;margin:auto;}
.card{background:var(--card);border-radius:20px;padding:22px;margin-bottom:20px;border:1px solid #222;}
.section-title{color:var(--gold);font-size:16px;font-weight:700;margin-bottom:15px;border-right:4px solid var(--gold);padding-right:12px;}
.question-block {margin-bottom: 25px;}
.question-label {display: block; font-size: 14px; color: #fff; margin-bottom: 12px; font-weight: bold; line-height: 1.6;}
.options-grid {display: flex; flex-wrap: wrap; gap: 8px;}
.option-box {flex: 1; min-width: 100px; background: var(--input); border: 1px solid #333; padding: 12px 8px; border-radius: 10px; text-align: center; font-size: 11px; cursor: pointer; transition: 0.3s; color: #bbb;}
.option-box.selected {background: rgba(212, 175, 55, 0.15); border-color: var(--gold); color: var(--gold); font-weight: bold;}
.option-box.promo {border: 1px solid #27ae60; color: #27ae60;}
.option-box.promo.selected {background: rgba(39, 174, 96, 0.2); border-color: #2ecc71; color: #fff;}
select, input[type="text"], input[type="tel"] {width:100%; background:var(--input); border:1px solid #333; color:#fff; padding:14px; border-radius:12px; font-family:'Cairo'; box-sizing:border-box; outline:none; margin-bottom:12px;}

/* ØªØµÙ…ÙŠÙ… Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ */
.result-box {
    background: linear-gradient(45deg, #1a1a1a, #000);
    border: 1px solid var(--gold);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    display: none;
    margin-top: 10px;
}
.result-name { font-family: 'Amiri', serif; color: var(--gold); font-size: 24px; margin: 10px 0; }

.price-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(10,10,10,.98);backdrop-filter:blur(15px);padding:20px;border-top:1px solid var(--gold);display:flex;justify-content:space-between;align-items:center;z-index:1000;}
.total-price{font-size:24px;font-weight:700;color:var(--gold);}
.btn-order{background:var(--gold);color:#000;border:none;padding:15px 35px;border-radius:12px;font-weight:700;cursor:pointer;}
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666;font-size:12px;">MÃ‰DÃ‰A - Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø±ÙˆØ§Ø¦Ø­ Ø§Ù„Ø´Ø®ØµÙŠØ© | IngÃ©nierie des Parfums</p>
</div>

<div class="container">
    <div class="card">
        <div class="section-title">ğŸ”¬ Ù…ÙŠØ«Ø§Ù‚ Ø§Ù„ØªØ­Ù„ÙŠÙ„ | Protocole d'Analyse</div>
        <div id="questions-container"></div>
    </div>

    <div id="result-card" class="card result-box">
        <div style="color: #888; font-size: 12px;">Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù„Ø´Ø®ØµÙŠØªÙƒ | Votre Parfum IdÃ©al</div>
        <div class="result-name" id="finalPerfumeName">---</div>
        <p style="font-size: 10px; color: #666;">ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø·Ø± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ØªØ­Ù„ÙŠÙ„ Ù…Ø¹Ø§ÙŠÙŠØ±Ùƒ Ø§Ù„Ù€ 16</p>
    </div>

    <div class="card">
        <div class="section-title">âœï¸ ØªØ®ØµÙŠØµ Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø© ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Infos</div>
        <input type="text" id="ownerName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø°ÙŠ Ø³ÙŠÙƒØªØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬ | Nom sur flacon">
        <select id="wilaya" onchange="updateShipping()">
            <option value="">-- Ø§Ù„ÙˆÙ„Ø§ÙŠØ© | Choisir Wilaya --</option>
        </select>
        <input type="text" id="commune" placeholder="Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© | Commune">
        <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ | NÂ° de TÃ©lÃ©phone">
    </div>

    <div class="card">
        <div class="section-title">ğŸ“¦ Ø§Ù„Ø­Ø¬Ù… | Taille</div>
        <div class="options-grid" id="size-options">
            <div class="option-box selected" onclick="selectSize(this, 500)">30ml (500 DA)</div>
            <div class="option-box" onclick="selectSize(this, 700)">50ml (700 DA)</div>
            <div class="option-box" onclick="selectSize(this, 1000)">100ml (1000 DA)</div>
        </div>
    </div>
</div>

<div class="price-bar">
    <div>
        <div style="color:#888;font-size:11px;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ | Total</div>
        <div class="total-price"><span id="totalDisplay">500</span> DA</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ | Commander ğŸ“©</button>
</div>

<script>
const questionsData = [
    {id: 1, q: "Ù„Ù…Ù† Ø§Ù„Ø¹Ø·Ø±ØŸ | Pour qui?", ops: ["Ø±Ø¬Ù„ | Homme", "Ø³ÙŠØ¯Ø© | Femme", "Ù„Ù„Ø¬Ù†Ø³ÙŠÙ† | Unisexe"]},
    {id: 2, q: "Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¹Ø·Ø±ÙŠØ© | Style", ops: ["ÙØ±Ù†Ø³ÙŠØ© | French", "Ù†ÙŠØ´ | Niche", "Ø³ÙƒØ±ÙŠ | Gourmand", "Ø´Ø±Ù‚ÙŠ | Oriental"]},
    {id: 3, q: "Ø§Ù„ÙØµÙ„ | Saison", ops: ["Ø´ØªØ§Ø¡ | Hiver", "ØµÙŠÙ | Ã‰tÃ©"]},
    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€ 16 Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§..
];

// Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
const perfumeDB = {
    "Ø±Ø¬Ù„ | Homme-ÙØ±Ù†Ø³ÙŠØ© | French-ØµÙŠÙ | Ã‰tÃ©": "Sauvage Dior",
    "Ø±Ø¬Ù„ | Homme-ÙØ±Ù†Ø³ÙŠØ© | French-Ø´ØªØ§Ø¡ | Hiver": "Bleu de Chanel Parfum",
    "Ø±Ø¬Ù„ | Homme-Ù†ÙŠØ´ | Niche-Ø´ØªØ§Ø¡ | Hiver": "Layton Parfums de Marly",
    "Ø³ÙŠØ¯Ø© | Femme-Ø³ÙƒØ±ÙŠ | Gourmand-Ø´ØªØ§Ø¡ | Hiver": "Black Opium YSL",
    "Ø³ÙŠØ¯Ø© | Femme-ÙØ±Ù†Ø³ÙŠØ© | French-ØµÙŠÙ | Ã‰tÃ©": "Chanel Chance Tendre",
    "Ù„Ù„Ø¬Ù†Ø³ÙŠÙ† | Unisexe-Ø´Ø±Ù‚ÙŠ | Oriental-Ø´ØªØ§Ø¡ | Hiver": "Ombre Nomade LV",
    "Default": "Signature Lab Creation"
};

let selectedAnswers = {};
let currentProductPrice = 500;
let shipPrice = 0;

const wilayas = ["01- Adrar", "09- Blida", "16- Alger", "26- Medea", "31- Oran"]; // (Ù…Ø®ØªØµØ±Ø© Ù„Ù„Ù…Ø«Ø§Ù„)
const selectWilaya = document.getElementById('wilaya');
wilayas.forEach(w => { let opt = document.createElement('option'); opt.value = w; opt.innerHTML = w; selectWilaya.appendChild(opt); });

const qContainer = document.getElementById('questions-container');
questionsData.forEach(item => {
    let html = `<div class="question-block"><span class="question-label">${item.id}- ${item.q}</span><div class="options-grid">`;
    item.ops.forEach(opt => { html += `<div class="option-box" onclick="selectOption(${item.id}, '${opt}', this)">${opt}</div>`; });
    qContainer.innerHTML += html + `</div></div>`;
});

function selectOption(id, val, el) {
    el.parentElement.querySelectorAll('.option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    selectedAnswers[id] = val;
    checkResult();
}

function checkResult() {
    // Ø¥Ø°Ø§ Ø£Ø¬Ø§Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ§Ù„ÙØµÙ„ØŒ ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙˆØ±Ø§Ù‹
    if(selectedAnswers[1] && selectedAnswers[2] && selectedAnswers[3]) {
        const key = `${selectedAnswers[1]}-${selectedAnswers[2]}-${selectedAnswers[3]}`;
        const finalName = perfumeDB[key] || perfumeDB["Default"];
        document.getElementById('result-card').style.display = 'block';
        document.getElementById('finalPerfumeName').innerText = finalName;
    }
}

function selectSize(el, price) {
    document.querySelectorAll('#size-options .option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    currentProductPrice = price;
    updateTotal();
}

function updateShipping() {
    const w = document.getElementById("wilaya").value;
    shipPrice = w.includes("Medea") ? 200 : 500;
    updateTotal();
}

function updateTotal() { document.getElementById("totalDisplay").textContent = currentProductPrice + shipPrice; }

function sendWA() {
    const w = document.getElementById("wilaya").value;
    const c = document.getElementById("commune").value;
    const p = document.getElementById("phone").value;
    const oName = document.getElementById("ownerName").value;
    const perfume = document.getElementById("finalPerfumeName").innerText;
    
    if(!w || !p || perfume === "---") { alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }
    
    let msg = `*ğŸ”¬ Ø·Ù„Ø¨ Ø¹Ø·Ø± Ù…Ø®ØµØµ / Nouvelle Commande*\n` +
              `â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n` +
              `âœ¨ *Ø§Ù„Ø¹Ø·Ø± Ø§Ù„Ù†Ø§ØªØ¬:* ${perfume}\n` +
              `ğŸ‘¤ *ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ø·Ø±:* ${oName}\n` +
              `ğŸ“¦ *Ø§Ù„Ø­Ø¬Ù…:* ${document.querySelector('#size-options .selected').innerText}\n` +
              `ğŸ“ *Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:* ${w} - ${c}\n` +
              `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${p}\n` +
              `ğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${document.getElementById("totalDisplay").textContent} DA`;

    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}
</script>
</body>
</html>
