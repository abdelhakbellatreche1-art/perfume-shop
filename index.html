<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,700;1,700&family=Cairo:wght@400;700&family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
<style>
:root{--gold:#d4af37;--bg:#000;--card:#111;--input:#1a1a1a;}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:#fff;margin:0;padding-bottom:170px;direction:rtl;}
.header{text-align:center;padding:30px;border-bottom:1px solid #222;background: linear-gradient(to bottom, #151515, #000);}
.header h1{font-family:'Amiri',serif;color:var(--gold);font-size:30px;margin:0;}
.container{padding:15px;max-width:600px;margin:auto;}
.card{background:var(--card);border-radius:20px;padding:22px;margin-bottom:20px;border:1px solid #222;box-shadow: 0 10px 30px rgba(0,0,0,0.5);}
.section-title{color:var(--gold);font-size:16px;font-weight:700;margin-bottom:20px;border-right:4px solid var(--gold);padding-right:12px;}
label{display:block;font-size:13px;color:#bbb;margin:18px 0 8px;font-weight:bold;line-height:1.5;}
select,input,textarea{width:100%;background:var(--input);border:1px solid #333;color:#fff;padding:14px;border-radius:12px;font-family:'Cairo';box-sizing:border-box;outline:none;font-size:14px;}
select:focus, input:focus, textarea:focus{border-color: var(--gold);}
.price-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(10,10,10,.98);backdrop-filter:blur(15px);padding:20px;border-top:1px solid var(--gold);display:flex;justify-content:space-between;align-items:center;z-index:1000;}
.total-price{font-size:24px;font-weight:700;color:var(--gold);}
.btn-order{background:var(--gold);color:#000;border:none;padding:15px 35px;border-radius:12px;font-weight:700;cursor:pointer;font-size:16px;}
.engrave-preview-box{text-align:center;border:1px dashed var(--gold);border-radius:15px;padding:25px;margin-top:20px;background: radial-gradient(circle, #1a1a1a, #050505);}
#previewName{font-family:'Amiri',serif;color:#fff;font-size:26px;display:block;}
#previewSig{font-family:'Monsieur La Doulaise', cursive;color:var(--gold);font-size:35px;display:block;transform: rotate(-3deg);margin-top:10px;}
.ship-badge{display:block;background:rgba(212,175,55,0.05);color:var(--gold);padding:10px;border-radius:10px;font-size:12px;margin-top:15px;text-align:center;border:1px solid rgba(212,175,55,0.15);}
.q-num{color:var(--gold);margin-left:5px;}
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666;font-size:12px;">MÃ‰DÃ‰A - Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¹Ø·ÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ©</p>
</div>

<div class="container">
    
    <div class="card">
        <div class="section-title">ğŸ§  Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ</div>
        
        <label><span class="q-num">1.</span> Ø§Ù„Ø¬Ù†Ø³ (Ù„Ù…Ø±Ø§Ø¹Ø§Ø© ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª)</label>
        <select id="psy_gender">
            <option>Ø°ÙƒØ±</option>
            <option>Ø£Ù†Ø«Ù‰</option>
            <option>Ø¹Ø·Ø± Ù…Ø´ØªØ±Ùƒ (Unisex)</option>
        </select>

        <label><span class="q-num">2.</span> Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…ÙØ¶Ù„ (ÙŠØ¹ÙƒØ³ Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù…ÙŠÙˆÙ„ Ø§Ù„Ø­Ø³ÙŠØ©)</label>
        <select id="psy_color">
            <option>Ø§Ù„Ø£Ø³ÙˆØ¯ / Ø§Ù„Ø¨Ù†ÙŠ (ÙØ®Ø§Ù…Ø© ÙˆØºÙ…ÙˆØ¶)</option>
            <option>Ø§Ù„Ø£Ø²Ø±Ù‚ / Ø§Ù„Ø£Ø®Ø¶Ø± (Ø§Ù†ØªØ¹Ø§Ø´ ÙˆÙ‡Ø¯ÙˆØ¡)</option>
            <option>Ø§Ù„Ø£Ø­Ù…Ø± / Ø§Ù„Ø£Ø±Ø¬ÙˆØ§Ù†ÙŠ (Ø´ØºÙ ÙˆØ¬Ø§Ø°Ø¨ÙŠØ©)</option>
            <option>Ø§Ù„Ø£Ø¨ÙŠØ¶ / Ø§Ù„Ø£ØµÙØ± (Ù†Ù‚Ø§Ø¡ ÙˆØ·Ø§Ù‚Ø©)</option>
        </select>

        <label><span class="q-num">3.</span> Ù…Ø¯Ø© Ø§Ù„Ø«Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (ØªØ­Ø¯Ø¯ ØªØ±ÙƒÙŠØ² Ø§Ù„Ø²ÙŠÙˆØª)</label>
        <select id="psy_duration">
            <option>Ù…ØªÙˆØ³Ø·Ø© (6 - 8 Ø³Ø§Ø¹Ø§Øª)</option>
            <option>Ø·ÙˆÙŠÙ„Ø© (12 - 24 Ø³Ø§Ø¹Ø©)</option>
            <option>ÙØ§Ø¦Ù‚Ø© (Ø«Ø¨Ø§Øª Ù„Ø¹Ø¯Ø© Ø£ÙŠØ§Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³)</option>
        </select>

        <label><span class="q-num">4.</span> Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø´Ø±Ø©</label>
        <select id="psy_skin">
            <option>Ø¯Ù‡Ù†ÙŠØ©</option>
            <option>Ø¬Ø§ÙØ©</option>
            <option>Ø¹Ø§Ø¯ÙŠØ©</option>
        </select>

        <label><span class="q-num">5.</span> Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</label>
        <select id="psy_season">
            <option>Ø´ØªÙˆÙŠ / Ø®Ø±ÙŠÙÙŠ</option>
            <option>ØµÙŠÙÙŠ / Ø±Ø¨ÙŠØ¹ÙŠ</option>
            <option>Ù„ÙƒÙ„ Ø§Ù„ÙØµÙˆÙ„</option>
        </select>

        <label><span class="q-num">6.</span> Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</label>
        <select id="psy_vibes">
            <option>Ø±Ø³Ù…ÙŠ ÙˆÙ‚ÙŠØ§Ø¯ÙŠ</option>
            <option>Ø¬Ø°Ø§Ø¨ ÙˆÙ…Ø«ÙŠØ±</option>
            <option>Ù†Ø¸ÙŠÙ ÙˆÙ…Ù†Ø¹Ø´</option>
            <option>Ø¯Ø§ÙØ¦ ÙˆÙ…Ø±ÙŠØ­</option>
        </select>

        <label>âœ¨ Ø¥Ø¶Ø§ÙØ§Øª Ø®Ø§ØµØ©</label>
        <textarea id="customPsy" placeholder="Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø¹Ø·Ø± ØªØ­Ø¨Ù‡ØŸ Ø£Ùˆ ØªÙØµÙŠÙ„ Ø¢Ø®Ø± ØªÙˆØ¯ Ø°ÙƒØ±Ù‡ Ù„Ù„Ø¹Ø·Ø§Ø±ØŸ"></textarea>
    </div>

    <div class="card">
        <div class="section-title">âœï¸ Ø®Ø¯Ù…Ø© Ø§Ù„Ø­ÙØ± Ø¨Ø§Ù„Ù„ÙŠØ²Ø± (Ø§Ù„ÙƒØ§Ù…Ù„Ø© 500 Ø¯Ø¬)</div>
        <label>Ø§Ù„Ø§Ø³Ù…</label>
        <input id="engraveName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø§Ø¯ Ø­ÙØ±Ù‡" oninput="updateTotal()">
        <label>Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø´Ø®ØµÙŠ</label>
        <input id="engraveSig" placeholder="Signature" oninput="updateTotal()">
        <div class="engrave-preview-box">
            <div id="previewName">Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§</div>
            <div id="previewSig">Signature</div>
        </div>
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„ØªÙˆØµÙŠÙ„</div>
        <label>Ø­Ø¬Ù… Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø©</label>
        <select id="size" onchange="updateTotal()">
            <option data-p="1500">30ml - 1500 Ø¯Ø¬</option>
            <option data-p="2500" selected>50ml - 2500 Ø¯Ø¬</option>
            <option data-p="4500">100ml - 4500 Ø¯Ø¬</option>
        </select>
        <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
        <select id="wilaya" onchange="updateCommunes()"></select>
        <label>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
        <select id="commune"></select>
        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input id="phone" type="tel" placeholder="05 / 06 / 07 ...">
        <div id="shipBadge" class="ship-badge" style="display:none;"></div>
    </div>
</div>

<div class="price-bar">
    <div>
        <div style="color:#888;font-size:11px;">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="total-price"><span id="totalDisplay">2500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ ğŸ“©</button>
</div>

<script>
const geoData = {
    "Ø§Ù„Ù…Ø¯ÙŠØ©": {price: 200, communes: ["Ø§Ù„Ù…Ø¯ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¨Ø±ÙˆØ§Ù‚ÙŠØ©", "Ù‚ØµØ± Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ", "ÙˆØ²Ø±Ø©"]},
    "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": {price: 300, communes: ["Ø³ÙŠØ¯ÙŠ Ø§Ù…Ø­Ù…Ø¯", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø§Ù„Ø´Ø±Ø§Ù‚Ø©", "Ø±ÙˆÙŠØ¨Ø©"]},
    "Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": {price: 300, communes: ["Ø§Ù„Ø¨Ù„ÙŠØ¯Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙˆÙØ§Ø±ÙŠÙƒ", "Ø£ÙˆÙ„Ø§Ø¯ ÙŠØ¹ÙŠØ´"]},
    "ØªÙŠØ¨Ø§Ø²Ø©": {price: 350, communes: ["ØªÙŠØ¨Ø§Ø²Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø­Ø¬ÙˆØ·", "Ø§Ù„Ù‚Ù„ÙŠØ¹Ø©"]},
    "ÙˆÙ‡Ø±Ø§Ù†": {price: 650, communes: ["ÙˆÙ‡Ø±Ø§Ù† Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙŠØ± Ø§Ù„Ø¬ÙŠØ±"]},
    "Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©": {price: 600, communes: ["Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø®Ø±ÙˆØ¨"]}
};

const wilayaSelect = document.getElementById("wilaya");
const communeSelect = document.getElementById("commune");
const totalDisplay = document.getElementById("totalDisplay");
let shipPrice = 0;

wilayaSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>';
Object.keys(geoData).sort().forEach(w => wilayaSelect.add(new Option(w, w)));

function updateCommunes() {
    const w = wilayaSelect.value;
    communeSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© --</option>';
    if (w && geoData[w]) {
        geoData[w].communes.forEach(c => communeSelect.add(new Option(c, c)));
        shipPrice = geoData[w].price;
        document.getElementById("shipBadge").style.display = "block";
        document.getElementById("shipBadge").innerText = `Ø´Ø­Ù† Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¥Ù„Ù‰ ${w}: ${shipPrice} Ø¯Ø¬`;
    }
    updateTotal();
}

function updateTotal() {
    const s = document.getElementById("size");
    const sizePrice = parseInt(s.options[s.selectedIndex].dataset.p);
    const engText = document.getElementById("engraveName").value.trim() || document.getElementById("engraveSig").value.trim();
    const engCost = engText ? 500 : 0;
    
    document.getElementById("previewName").textContent = document.getElementById("engraveName").value || "Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§";
    document.getElementById("previewSig").textContent = document.getElementById("engraveSig").value || "Signature";
    
    totalDisplay.textContent = sizePrice + shipPrice + engCost;
}

function sendWA() {
    if (!wilayaSelect.value || !document.getElementById("phone").value) {
        alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù†"); return;
    }
    
    const details = `*Ø§Ù„Ø¬Ù†Ø³:* ${document.getElementById("psy_gender").value}\n` +
                    `*Ø§Ù„Ù„ÙˆÙ†:* ${document.getElementById("psy_color").value}\n` +
                    `*Ø§Ù„Ø«Ø¨Ø§Øª:* ${document.getElementById("psy_duration").value}\n` +
                    `*Ø§Ù„Ø¨Ø´Ø±Ø©:* ${document.getElementById("psy_skin").value}\n` +
                    `*Ø§Ù„ÙØµÙ„:* ${document.getElementById("psy_season").value}\n` +
                    `*Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹:* ${document.getElementById("psy_vibes").value}`;

    let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± (Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ù†ÙŠØ´)* ğŸº\n` +
              `-------------------\n` +
              `ğŸ§  *Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ:*\n${details}\n` +
              `âœ¨ *Ø¥Ø¶Ø§ÙØ§Øª:* ${document.getElementById("customPsy").value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯"}\n` +
              `-------------------\n` +
              `âœï¸ *Ø§Ù„Ø­ÙØ± (+500 Ø¯Ø¬):*\n` +
              `- Ø§Ù„Ø§Ø³Ù…: ${document.getElementById("engraveName").value || "Ø¨Ø¯ÙˆÙ†"}\n` +
              `- Ø§Ù„ØªÙˆÙ‚ÙŠØ¹: ${document.getElementById("engraveSig").value || "Ø¨Ø¯ÙˆÙ†"}\n` +
              `-------------------\n` +
              `ğŸ“¦ *Ø§Ù„Ø·Ù„Ø¨:* ${document.getElementById("size").options[document.getElementById("size").selectedIndex].text}\n` +
              `ğŸ“ *Ø§Ù„Ø´Ø­Ù†:* ${wilayaSelect.value} - ${communeSelect.value}\n` +
              `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${document.getElementById("phone").value}\n` +
              `ğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:* ${totalDisplay.textContent} Ø¯Ø¬`;

    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}
updateTotal();
</script>
</body>
</html>
