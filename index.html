<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab Pro - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø© 58 ÙˆÙ„Ø§ÙŠØ©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,700;1,700&family=Cairo:wght@400;700&family=Monsieur+La+Doulaise&display=swap" rel="stylesheet">
<style>
:root{--gold:#d4af37;--bg:#000;--card:#111;--input:#1a1a1a;}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:#fff;margin:0;padding-bottom:170px;direction:rtl;}
.header{text-align:center;padding:30px;border-bottom:1px solid #222;}
.header h1{font-family:'Amiri',serif;color:var(--gold);font-size:30px;margin:0;}
.container{padding:15px;max-width:600px;margin:auto;}
.card{background:var(--card);border-radius:20px;padding:22px;margin-bottom:20px;border:1px solid #222;}
.section-title{color:var(--gold);font-size:16px;font-weight:700;margin-bottom:15px;border-right:4px solid var(--gold);padding-right:12px;}

/* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ù„Ù„Ø£Ø³Ø¦Ù„Ø© */
.question-block {margin-bottom: 25px;}
.question-label {display: block; font-size: 14px; color: #fff; margin-bottom: 12px; font-weight: bold;}
.options-grid {display: flex; flex-wrap: wrap; gap: 8px;}
.option-box {
    flex: 1; min-width: 80px; background: var(--input); border: 1px solid #333;
    padding: 10px; border-radius: 10px; text-align: center; font-size: 12px;
    cursor: pointer; transition: 0.3s; color: #bbb;
}
.option-box.selected {
    background: rgba(212, 175, 55, 0.15); border-color: var(--gold); color: var(--gold); font-weight: bold;
}

select, input[type="text"], input[type="tel"], textarea {
    width:100%; background:var(--input); border:1px solid #333; color:#fff; padding:14px; 
    border-radius:12px; font-family:'Cairo'; box-sizing:border-box; outline:none; margin-bottom:15px;
}

.price-bar{position:fixed;bottom:0;left:0;right:0;background:rgba(10,10,10,.98);backdrop-filter:blur(15px);padding:20px;border-top:1px solid var(--gold);display:flex;justify-content:space-between;align-items:center;z-index:1000;}
.total-price{font-size:24px;font-weight:700;color:var(--gold);}
.btn-order{background:var(--gold);color:#000;border:none;padding:15px 35px;border-radius:12px;font-weight:700;cursor:pointer;}
.engrave-preview-box{text-align:center;border:1px dashed var(--gold);border-radius:15px;padding:25px;margin-top:20px;background: radial-gradient(circle, #1a1a1a, #050505);}
#previewName{font-family:'Amiri',serif;color:#fff;font-size:26px;display:block;}
#previewSig{font-family:'Monsieur La Doulaise', cursive;color:var(--gold);font-size:35px;display:block;transform: rotate(-3deg);margin-top:10px;}
.ship-badge{display:block;background:rgba(212, 175, 55, 0.05);color:var(--gold);padding:10px;border-radius:10px;font-size:12px;margin-bottom:15px;text-align:center;border:1px solid rgba(212, 175, 55, 0.15);}
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666;font-size:12px;">MÃ‰DÃ‰A - Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­ØµØ±ÙŠ</p>
</div>

<div class="container">
    <div class="card">
        <div class="section-title">ğŸ”¬ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</div>
        <div id="questions-container"></div>
        <div class="question-block">
            <span class="question-label">16. Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©ØŸ</span>
            <textarea id="q16" placeholder="Ø§ÙƒØªØ¨ Ø£ÙŠ Ø±ØºØ¨Ø© Ø®Ø§ØµØ© Ù‡Ù†Ø§..."></textarea>
        </div>
    </div>

    <div class="card">
        <div class="section-title">âœï¸ Ø®Ø¯Ù…Ø© Ø§Ù„Ø­ÙØ± Ø¨Ø§Ù„Ù„ÙŠØ²Ø± (+500 Ø¯Ø¬)</div>
        <input id="engraveName" type="text" placeholder="Ø§Ù„Ø§Ø³Ù…" oninput="updateTotal()">
        <input id="engraveSig" type="text" placeholder="Signature" oninput="updateTotal()">
        <div class="engrave-preview-box">
            <div id="previewName">Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§</div>
            <div id="previewSig">Signature</div>
        </div>
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</div>
        <label class="question-label">Ø­Ø¬Ù… Ø§Ù„Ù‚Ø§Ø±ÙˆØ±Ø©</label>
        <div class="options-grid" id="size-options">
            <div class="option-box" onclick="selectSize(this, 300)">30ml</div>
            <div class="option-box selected" onclick="selectSize(this, 500)">50ml</div>
            <div class="option-box" onclick="selectSize(this, 700)">100ml</div>
        </div>
        <br>
        <label class="question-label">Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
        <select id="wilaya" onchange="updateCommunes()"></select>

        <label class="question-label">Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
        <select id="commune">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ --</option>
        </select>

        <div id="shipBadge" class="ship-badge" style="display:none;"></div>
        
        <input id="phone" type="tel" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    </div>
</div>

<div class="price-bar">
    <div>
        <div style="color:#888;font-size:11px;">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="total-price"><span id="totalDisplay">500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“©</button>
</div>

<script>
// Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù€ 15 (Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª)
const questionsData = [
    {id: 1, q: "Ø§Ù„Ø¬Ù†Ø³ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØŸ", ops: ["Ø±Ø¬Ø§Ù„ÙŠ", "Ù†Ø³Ø§Ø¦ÙŠ", "Unisex"]},
    {id: 2, q: "Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø´Ø±Ø©ØŸ", ops: ["Ø¯Ù‡Ù†ÙŠØ©", "Ø¬Ø§ÙØ©", "Ø¹Ø§Ø¯ÙŠØ©"]},
    {id: 3, q: "Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…ÙØ¶Ù„ØŸ", ops: ["ØµØ¨Ø§Ø­ÙŠ", "Ù…Ø³Ø§Ø¦ÙŠ", "Ø·ÙˆØ§Ù„ Ø§Ù„ÙŠÙˆÙ…"]},
    {id: 4, q: "Ø§Ù„ÙØµÙ„ Ø§Ù„Ù…ÙØ¶Ù„ØŸ", ops: ["Ø´ØªÙˆÙŠ", "ØµÙŠÙÙŠ", "Ø®Ø±ÙŠÙÙŠ"]},
    {id: 5, q: "Ù…Ø¯Ø© Ø§Ù„Ø«Ø¨Ø§ØªØŸ", ops: ["12 Ø³Ø§Ø¹Ø©", "24 Ø³Ø§Ø¹Ø©", "ÙŠÙˆÙ…ÙŠÙ†"]},
    {id: 6, q: "Ù‚ÙˆØ© Ø§Ù„ÙÙˆØ­Ø§Ù†ØŸ", ops: ["Ù‡Ø§Ø¯Ø¦", "Ù…ØªÙˆØ³Ø·", "Ù‚ÙˆÙŠ"]},
    {id: 7, q: "Ù„ÙˆÙ† Ø§Ù„Ø·Ø§Ù‚Ø©ØŸ", ops: ["Ø£Ø³ÙˆØ¯", "Ø£Ø¨ÙŠØ¶", "Ø£Ø²Ø±Ù‚", "Ø£Ø­Ù…Ø±"]},
    {id: 8, q: "Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©ØŸ", ops: ["Ø£Ø®Ø´Ø§Ø¨", "Ù…Ø³Ùƒ", "Ø²Ù‡ÙˆØ±", "Ø­Ù…Ø¶ÙŠØ§Øª"]},
    {id: 9, q: "Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ø¹Ø§Ù…ØŸ", ops: ["ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ", "Ø¹ØµØ±ÙŠ", "Ø±ÙŠØ§Ø¶ÙŠ"]},
    {id: 10, q: "Ø­Ø³Ø§Ø³ÙŠØ© Ø¹Ø·Ø±ÙŠØ©ØŸ", ops: ["Ù„Ø§", "Ù†Ø¹Ù…"]},
    {id: 11, q: "Ø§Ù„Ø¹Ù…Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØŸ", ops: ["Ø´Ø¨Ø§Ø¨ÙŠ", "Ù…ØªÙˆØ³Ø·", "ÙˆÙ‚ÙˆØ±"]},
    {id: 12, q: "Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©ØŸ", ops: ["Ø¹Ù…Ù„", "Ø£ÙØ±Ø§Ø­", "ÙŠÙˆÙ…ÙŠ"]},
    {id: 13, q: "Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ØŸ", ops: ["Parfum", "Extrait"]},
    {id: 14, q: "Ø±ÙˆØ§Ø¦Ø­ Ø³ÙˆÙŠØªØŸ", ops: ["Ù†Ø¹Ù…", "Ù„Ø§"]},
    {id: 15, q: "Ø§Ù„Ù‡ÙˆØ§ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø©ØŸ", ops: ["Ø§Ù„Ø±ÙŠØ§Ø¶Ø©", "Ø§Ù„Ù…Ø·Ø§Ù„Ø¹Ø©", "Ø§Ù„Ø³ÙØ±"]}
];

// Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª (Ø£Ù…Ø«Ù„Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù€ 58 Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹)
const dzData = {
    "01- Ø£Ø¯Ø±Ø§Ø±": {price: 800, comms: ["Ø£Ø¯Ø±Ø§Ø±", "ÙÙ†ÙˆØºÙŠÙ„", "Ø±Ù‚Ø§Ù†"]},
    "02- Ø§Ù„Ø´Ù„Ù": {price: 400, comms: ["Ø§Ù„Ø´Ù„Ù", "ØªÙ†Ø³", "Ø£ÙˆÙ„Ø§Ø¯ ÙØ§Ø±Ø³"]},
    "03- Ø§Ù„Ø£ØºÙˆØ§Ø·": {price: 500, comms: ["Ø§Ù„Ø£ØºÙˆØ§Ø·", "Ø£ÙÙ„Ùˆ", "Ø­Ø§Ø³ÙŠ Ø§Ù„Ø±Ù…Ù„"]},
    "09- Ø§Ù„Ù…Ø¯ÙŠØ©": {price: 200, comms: ["Ø§Ù„Ù…Ø¯ÙŠØ©", "Ø§Ù„Ø¨Ø±ÙˆØ§Ù‚ÙŠØ©", "Ù‚ØµØ± Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ", "ÙˆØ²Ø±Ø©", "Ø¨Ù†ÙŠ Ø³Ù„ÙŠÙ…Ø§Ù†", "ØªØ§Ø¨Ù„Ø§Ø·", "Ø³ØºÙˆØ§Ù†", "Ø§Ù„Ø¹Ù…Ø§Ø±ÙŠØ©"]},
    "16- Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": {price: 300, comms: ["Ø³ÙŠØ¯ÙŠ Ø§Ù…Ø­Ù…Ø¯", "Ø¨Ø§Ø¨ Ø§Ù„ÙˆØ§Ø¯", "Ø¨ÙˆØ²Ø±ÙŠØ¹Ø©", "Ø§Ù„Ø­Ø±Ø§Ø´", "Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø²Ø±Ø§Ù„Ø¯Ø©", "Ø§Ù„Ø±ÙˆÙŠØ¨Ø©"]},
    "25- Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©": {price: 500, comms: ["Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©", "Ø§Ù„Ø®Ø±ÙˆØ¨", "Ø­Ø§Ù…Ø© Ø¨ÙˆØ²ÙŠØ§Ù†"]},
    "31- ÙˆÙ‡Ø±Ø§Ù†": {price: 500, comms: ["ÙˆÙ‡Ø±Ø§Ù†", "Ø¹ÙŠÙ† Ø§Ù„ØªØ±Ùƒ", "Ø¨Ø·ÙŠÙˆØ©"]}
    // Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ù„Ø¡ Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù€ 58 Ù‡Ù†Ø§ Ø¨Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø·
};

let selectedAnswers = {};
let currentSizePrice = 500;
let shipPrice = 0;

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
const qContainer = document.getElementById('questions-container');
questionsData.forEach(item => {
    let html = `<div class="question-block"><span class="question-label">${item.id}. ${item.q}</span><div class="options-grid">`;
    item.ops.forEach(opt => {
        html += `<div class="option-box" onclick="selectOption(${item.id}, '${opt}', this)">${opt}</div>`;
    });
    html += `</div></div>`;
    qContainer.innerHTML += html;
});

// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª
const wilayaSelect = document.getElementById("wilaya");
wilayaSelect.add(new Option("-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --", ""));
Object.keys(dzData).forEach(w => wilayaSelect.add(new Option(w, w)));

function selectOption(id, val, el) {
    el.parentElement.querySelectorAll('.option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    selectedAnswers[id] = val;
}

function updateCommunes() {
    const w = wilayaSelect.value;
    const commSelect = document.getElementById("commune");
    commSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© --</option>';
    if (w && dzData[w]) {
        dzData[w].comms.forEach(c => commSelect.add(new Option(c, c)));
        shipPrice = dzData[w].price;
        document.getElementById("shipBadge").style.display = "block";
        document.getElementById("shipBadge").innerText = `ØªÙˆØµÙŠÙ„ Ø¥Ù„Ù‰ ${w}: ${shipPrice} Ø¯Ø¬`;
    } else {
        shipPrice = 0;
        document.getElementById("shipBadge").style.display = "none";
    }
    updateTotal();
}

function selectSize(el, price) {
    document.querySelectorAll('#size-options .option-box').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
    currentSizePrice = price;
    updateTotal();
}

function updateTotal() {
    const engCost = (document.getElementById("engraveName").value.trim() || document.getElementById("engraveSig").value.trim()) ? 500 : 0;
    document.getElementById("previewName").textContent = document.getElementById("engraveName").value || "Ø§Ù„Ø§Ø³Ù… Ù‡Ù†Ø§";
    document.getElementById("previewSig").textContent = document.getElementById("engraveSig").value || "Signature";
    document.getElementById("totalDisplay").textContent = currentSizePrice + shipPrice + engCost;
}

function sendWA() {
    const w = wilayaSelect.value;
    const c = document.getElementById("commune").value;
    const p = document.getElementById("phone").value;
    if(!w || !c || !p) { alert("Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„"); return; }
    
    let report = "";
    questionsData.forEach(q => report += `- ${q.q}: ${selectedAnswers[q.id] || "Ù„Ù… ÙŠØ­Ø¯Ø¯"}\n`);
    
    let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± Lab Pro* ğŸ”¬\n-------------------\n${report}- Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${document.getElementById('q16').value}\n-------------------\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${w}, ${c}\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${document.getElementById("totalDisplay").textContent} Ø¯Ø¬`;
    window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
}
</script>
</body>
</html>
