<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Perfume Lab - MÃ©dÃ©a Center</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root { --gold: #d4af37; --bg: #000; --card: #111; --input: #1a1a1a; }
    body { font-family: 'Cairo', sans-serif; background: var(--bg); color: #fff; margin: 0; padding-bottom: 160px; direction: rtl; }
    .header { text-align: center; padding: 25px; border-bottom: 1px solid #222; }
    .header h1 { font-family: 'Amiri', serif; color: var(--gold); font-size: 26px; margin: 0; }
    .container { padding: 15px; }
    .card { background: var(--card); border-radius: 20px; padding: 20px; margin-bottom: 20px; border: 1px solid #222; }
    .section-title { color: var(--gold); font-size: 16px; font-weight: 700; margin-bottom: 15px; border-right: 3px solid var(--gold); padding-right: 10px; }
    label { display: block; font-size: 11px; color: #888; margin: 10px 0 5px; }
    select, input { width: 100%; background: var(--input); border: 1px solid #333; color: #fff; padding: 12px; border-radius: 12px; font-family: 'Cairo'; box-sizing: border-box; }
    .price-bar { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(10, 10, 10, 0.95); backdrop-filter: blur(10px); padding: 20px; border-top: 1px solid var(--gold); display: flex; justify-content: space-between; align-items: center; z-index: 1000; }
    .total-price { font-size: 22px; font-weight: 700; color: var(--gold); }
    .btn-order { background: var(--gold); color: #000; border: none; padding: 15px 30px; border-radius: 12px; font-weight: 700; cursor: pointer; }
    .ship-badge { display: inline-block; background: rgba(212, 175, 55, 0.2); color: var(--gold); padding: 2px 8px; border-radius: 5px; font-size: 10px; margin-top: 5px; }
    
    /* Ø³ØªØ§ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬Ø© */
    .engrave-preview { font-family: 'Amiri', serif; color: var(--gold); font-size: 22px; text-align: center; margin-top: 10px; border: 1px dashed #333; padding: 10px; border-radius: 10px; min-height: 35px; }
</style>
</head>
<body>

<div class="header">
    <h1>PERFUME LAB PRO</h1>
    <p style="color:#666; font-size:11px;">Ù…Ù‚Ø±Ù†Ø§: Ø§Ù„Ù…Ø¯ÙŠØ© - Ø´Ø­Ù† Ø³Ø±ÙŠØ¹ Ù„ÙƒÙ„ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</p>
</div>

<div class="container">
    
    <div class="card">
        <div class="section-title">ğŸº ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</div>
        <label>Ø§Ù„Ø­Ø¬Ù…</label>
        <select id="size" onchange="updateTotal()">
            <option value="1500">30ml - 1500 Ø¯Ø¬</option>
            <option value="2500" selected>50ml - 2500 Ø¯Ø¬</option>
            <option value="4500">100ml - 4500 Ø¯Ø¬</option>
        </select>

        <label>Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø¬Ø§Ø¬Ø© Ø¨Ø§Ù„Ù„ÙŠØ²Ø± (+300 Ø¯Ø¬)</label>
        <input id="engraveInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ØªØ§Ø±ÙŠØ® Ù‡Ù†Ø§..." oninput="updateEngrave()">
        <div class="engrave-preview" id="engravePreview">PREVIEW</div>
    </div>

    <div class="card">
        <div class="section-title">ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø­Ù† (Ù…Ù† 200 Ø¥Ù„Ù‰ 800 Ø¯Ø¬)</div>
        
        <label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
        <select id="wilaya" onchange="updateCommunes()">
            <option value="">-- Ø§Ø®ØªØ± ÙˆÙ„Ø§ÙŠØ© Ø§Ù„ØªÙˆØµÙŠÙ„ --</option>
        </select>

        <label>Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</label>
        <select id="commune">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ --</option>
        </select>

        <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
        <input id="phone" type="tel" placeholder="05 / 06 / 07 ...">
        
        <div id="shipBadge" class="ship-badge" style="display:none;"></div>
    </div>
</div>

<div class="price-bar">
    <div class="total-info">
        <div style="color:#888; font-size:11px;">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div class="total-price"><span id="totalDisplay">2500</span> Ø¯Ø¬</div>
    </div>
    <button class="btn-order" onclick="sendWA()">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“©</button>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù† Ù…Ø­Ø³ÙˆØ¨Ø© Ø§Ù†Ø·Ù„Ø§Ù‚Ø§Ù‹ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¨Ø­Ø¯ Ø£Ù‚ØµÙ‰ 800 Ø¯Ø¬
    const shippingData = {
        "Ø§Ù„Ù…Ø¯ÙŠØ©": { price: 200, communes: ["Ø§Ù„Ù…Ø¯ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²", "ÙˆØ²Ø±Ø©", "Ø§Ù„Ø¨Ø±ÙˆØ§Ù‚ÙŠØ©", "ÙˆØ§Ù…Ø±ÙŠ", "Ø¨Ù†ÙŠ Ø³Ù„ÙŠÙ…Ø§Ù†", "ØªØ§Ø¨Ù„Ø§Ø·", "Ù‚ØµØ± Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ", "Ø´Ù„Ø§Ù„Ø© Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡"] },
        "Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©": { price: 300, communes: ["Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©", "Ø¨ÙˆÙØ§Ø±ÙŠÙƒ", "Ø§Ù„Ø¹ÙØ±ÙˆÙ†", "Ù…ÙˆØ²Ø§ÙŠØ©", "Ø£ÙˆÙ„Ø§Ø¯ ÙŠØ¹ÙŠØ´"] },
        "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±": { price: 400, communes: ["Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡", "Ø³ÙŠØ¯ÙŠ Ø§Ù…Ø­Ù…Ø¯", "Ø§Ù„Ø´Ø±Ø§Ù‚Ø©", "Ø¯Ø§Ù„ÙŠ Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø§Ù„Ø­Ø±Ø§Ø´"] },
        "Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰": { price: 400, communes: ["Ø§Ù„Ø®Ù…ÙŠØ³", "Ù…Ù„ÙŠØ§Ù†Ø©", "Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¹Ø·Ø§Ù"] },
        "Ø§Ù„Ø¬Ù„ÙØ©": { price: 500, communes: ["Ø§Ù„Ø¬Ù„ÙØ© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø­Ø§Ø³ÙŠ Ø¨Ø­Ø¨Ø­", "Ø¹ÙŠÙ† ÙˆØ³Ø§Ø±Ø©", "Ù…Ø³Ø¹Ø¯"] },
        "ØªÙŠØ¨Ø§Ø²Ø©": { price: 500, communes: ["ØªÙŠØ¨Ø§Ø²Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø­Ø¬ÙˆØ·", "Ø¨ÙˆØ³Ù…Ø§Ø¹ÙŠÙ„", "Ø§Ù„Ù‚Ù„ÙŠØ¹Ø©"] },
        "Ø§Ù„Ø¨ÙˆÙŠØ±Ø©": { price: 500, communes: ["Ø§Ù„Ø¨ÙˆÙŠØ±Ø© Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø£Ø®Ø¶Ø±ÙŠØ©", "Ø³ÙˆØ± Ø§Ù„ØºØ²Ù„Ø§Ù†"] },
        "ØªÙŠØ§Ø±Øª": { price: 600, communes: ["ØªÙŠØ§Ø±Øª Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø³ÙˆÙ‚Ø±", "ÙØ±Ù†Ø¯Ø©"] },
        "ÙˆÙ‡Ø±Ø§Ù†": { price: 700, communes: ["ÙˆÙ‡Ø±Ø§Ù† Ø§Ù„Ù…Ø±ÙƒØ²", "Ø¨ÙŠØ± Ø§Ù„Ø¬ÙŠØ±", "Ø§Ù„Ø³Ø§Ù†ÙŠØ§", "Ø£Ø±Ø²ÙŠÙˆ"] },
        "Ø³Ø·ÙŠÙ": { price: 700, communes: ["Ø³Ø·ÙŠÙ Ø§Ù„Ù…Ø±ÙƒØ²", "Ø§Ù„Ø¹Ù„Ù…Ø©", "Ø¹ÙŠÙ† Ø£Ø±Ù†Ø§Øª"] },
        "Ø£Ø¯Ø±Ø§Ø±": { price: 800, communes: ["Ø£Ø¯Ø±Ø§Ø± Ø§Ù„Ù…Ø±ÙƒØ²", "Ø±ØºØ§Ù†", "Ø£ÙˆÙ„Ù"] },
        "ØªÙ…Ù†Ø±Ø§Ø³Øª": { price: 800, communes: ["ØªÙ…Ù†Ø±Ø§Ø³Øª", "Ø¹ÙŠÙ† ØµØ§Ù„Ø­"] },
        "Ø¨Ø´Ø§Ø±": { price: 800, communes: ["Ø¨Ø´Ø§Ø± Ø§Ù„Ù…Ø±ÙƒØ²", "ØªØ§ØºÙŠØª"] }
    };

    const wilayaSelect = document.getElementById('wilaya');
    const communeSelect = document.getElementById('commune');
    const totalDisplay = document.getElementById('totalDisplay');
    const shipBadge = document.getElementById('shipBadge');
    let engraveCost = 0;

    // Ù…Ù„Ø¡ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª
    for (let w in shippingData) {
        wilayaSelect.add(new Option(w, w));
    }

    function updateEngrave() {
        const val = document.getElementById('engraveInput').value;
        engraveCost = val.trim() !== "" ? 300 : 0;
        document.getElementById('engravePreview').innerText = val || "PREVIEW";
        updateTotal();
    }

    function updateCommunes() {
        const w = wilayaSelect.value;
        communeSelect.innerHTML = '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© --</option>';
        
        if (w && shippingData[w]) {
            shippingData[w].communes.forEach(c => communeSelect.add(new Option(c, c)));
            shipBadge.style.display = "inline-block";
            shipBadge.innerText = `Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ© Ø¥Ù„Ù‰ ${w}: ${shippingData[w].price} Ø¯Ø¬`;
        } else {
            shipBadge.style.display = "none";
        }
        updateTotal();
    }

    function updateTotal() {
        const sizePrice = parseInt(document.getElementById('size').value);
        const shipPrice = (wilayaSelect.value && shippingData[wilayaSelect.value]) ? shippingData[wilayaSelect.value].price : 0;
        totalDisplay.innerText = sizePrice + shipPrice + engraveCost;
    }

    function sendWA() {
        const w = wilayaSelect.value;
        const c = communeSelect.value;
        const p = document.getElementById('phone').value;
        const engraveText = document.getElementById('engraveInput').value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
        
        if(!w || !c || !p) { alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„"); return; }
        
        let msg = `*Ø·Ù„Ø¨ Ø¹Ø·Ø± Lab Pro* ğŸº\n` +
                  `-------------------\n` +
                  `âœï¸ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${engraveText}\n` +
                  `ğŸ“ Ø§Ù„ØªÙˆØµÙŠÙ„: ${w} (${c})\n` +
                  `ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${p}\n` +
                  `ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalDisplay.innerText} Ø¯Ø¬`;
                  
        window.location.href = `https://wa.me/213783147002?text=${encodeURIComponent(msg)}`;
    }
</script>
</body>
</html>
